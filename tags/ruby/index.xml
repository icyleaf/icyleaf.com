<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ruby on icyleaf</title>
    <link>http://icyleaf.com/tags/ruby/index.xml</link>
    <description>Recent content in Ruby on icyleaf</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>All rights reserved - 2007</copyright>
    <atom:link href="http://icyleaf.com/tags/ruby/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>æ·±å…¥æµ…å‡º Fastlane ä¸€çœ‹ä½ å°±æ‡‚</title>
      <link>http://icyleaf.com/2016/07/fastlane-in-action</link>
      <pubDate>Tue, 19 Jul 2016 20:12:07 +0800</pubDate>
      
      <guid>http://icyleaf.com/2016/07/fastlane-in-action</guid>
      <description>

&lt;p&gt;è¿™æ˜¯ã€Š &lt;a href=&#34;https://icyleaf.com/2016/07/intro-fastlane-automation-for-ios-and-android/&#34;&gt;Fastlane - iOS å’Œ Android çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·&lt;/a&gt;ã€‹ç³»åˆ—çš„ç¬¬äºŒç¯‡ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬ç¯‡æˆ‘æƒ³ç€é‡ä»‹ç» &lt;code&gt;fastlane&lt;/code&gt; æœ¬èº«çš„åŸºæœ¬ä½¿ç”¨ï¼Œè¿™é‡Œä½¿ç”¨ fastlane v1.98.0 ä½œä¸ºæ¼”ç¤ºç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç³»åˆ—ç´¢å¼•&#34;&gt;ç³»åˆ—ç´¢å¼•&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://icyleaf.com/2016/07/intro-fastlane-automation-for-ios-and-android/&#34;&gt;Fastlane - iOS å’Œ Android çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://icyleaf.com/2016/07/fastlane-in-action/&#34;&gt;æ·±å…¥æµ…å‡º Fastlane ä¸€çœ‹ä½ å°±æ‡‚&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;å‘½ä»¤è¡Œå·¥å…·&#34;&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/h2&gt;

&lt;p&gt;å®‰è£…ä¹‹åé»˜è®¤ä¼šå®‰è£…ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…· &lt;code&gt;fastlane&lt;/code&gt;ï¼Œåˆ©ç”¨å®ƒå¯ä»¥åˆå§‹åŒ–ã€æ‰§è¡Œä»»åŠ¡ã€æŸ¥çœ‹ä»»åŠ¡å®šä¹‰ã€æŸ¥çœ‹å¯ç”¨çš„åŠ¨ä½œå’ŒåŠ¨ä½œçš„è¯¦ç»†å®šä¹‰ï¼Œç”šè‡³å¯ä»¥ç”¨å®ƒæ¥åˆ›å»ºè‡ªå®šä¹‰çš„åŠ¨ä½œã€æ’ä»¶ä»¥åŠä¸€äº›è¾…åŠ©åŠŸèƒ½ã€‚æƒ³äº†è§£çš„è¯å¯ä»¥å…ˆçœ‹çœ‹å®ƒçš„å¸®åŠ©ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane --help

  fastlane

  CLI for &#39;fastlane&#39; - The easiest way to automate building and releasing your iOS and Android apps

        Run using `fastlane [platform] [lane_name]`
        To pass values to the lanes use `fastlane [platform] [lane_name] key:value key2:value2`

  Commands:
    action                  Shows more information for a specific command
    actions                 Lists all available fastlane actions
    add_plugin              Add a new plugin to your fastlane setup
    disable_crash_reporting Deprecated: fastlane doesn&#39;t use a crash reporter any more
    docs                    Generate a markdown based documentation based on the Fastfile
    enable_auto_complete    Enable tab auto completion
    enable_crash_reporting  Deprecated: fastlane doesn&#39;t use a crash reporter any more
    help                    Display global or [command] help documentation
    init                    Helps you with your initial fastlane setup
    install_plugins         Install all plugins for this project
    lanes                   Lists all available lanes and shows their description
    list                    Lists all available lanes without description
    new_action              Create a new custom action for fastlane.
    new_plugin              Create a new plugin that can be used with fastlane
    run                     Run a fastlane one-off action without a full lane
    search_plugins          Search for plugins, search query is optional
    trigger                 Run a sepcific lane. Pass the lane name and optionally the platform first.
    update_plugins          Update all plugin dependencies

  Global Options:
    --verbose
    -h, --help           Display help documentation
    -v, --version        Display version information

  Author:
    Felix Krause &amp;lt;fastlane@krausefx.com&amp;gt;

  Website:
    https://fastlane.tools

  GitHub:
    https://github.com/fastlane/fastlane
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä¼šéšç€ä¸‹é¢æ¯ä¸ªæ¦‚å¿µçš„è§£é‡Šå’Œå±•å¼€æ¥é…åˆä¸Šé¢çš„å‘½ä»¤ä¸€èµ·è®²è§£ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç”Ÿå‘½å‘¨æœŸ&#34;&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æ‰§è¡Œé¡ºåº&lt;/th&gt;
&lt;th&gt;æ–¹æ³•å&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;before_all&lt;/td&gt;
&lt;td&gt;åœ¨æ‰§è¡Œ lane ä¹‹å‰åªæ‰§è¡Œä¸€æ¬¡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;before_each&lt;/td&gt;
&lt;td&gt;æ¯æ¬¡æ‰§è¡Œ lane ä¹‹å‰éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;lane&lt;/td&gt;
&lt;td&gt;è‡ªå®šä¹‰çš„ä»»åŠ¡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;after_each&lt;/td&gt;
&lt;td&gt;æ¯æ¬¡æ‰§è¡Œ lane ä¹‹åéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;after_all&lt;/td&gt;
&lt;td&gt;åœ¨æ‰§è¡Œ lane æˆåŠŸç»“æŸä¹‹åæ‰§è¡Œä¸€æ¬¡&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;åœ¨æ‰§è¡Œä¸Šè¿°æƒ…å†µä»»æ„ç¯å¢ƒæŠ¥é”™éƒ½ä¼šä¸­æ­¢å¹¶æ‰§è¡Œä¸€æ¬¡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä»¥ä¸Šçš„éƒ¨åˆ†å¤§å®¶åœ¨ä¸Šä¸€ç¯‡å·²ç»è§è¯†è¿‡äº†ï¼Œæœ‰äº›è¿˜æ²¡æ¥è§¦åˆ°ï¼Œä¸ç”¨ç€æ€¥éƒ½ä¼šä¸€ä¸€è¯´æ˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä»»åŠ¡-lane&#34;&gt;ä»»åŠ¡ï¼ˆlaneï¼‰&lt;/h2&gt;

&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹ä½ å¯èƒ½åªä¼šæ˜¯ç”¨åˆ°ä¸€ç§ä»»åŠ¡æ–¹æ³• &lt;code&gt;lane&lt;/code&gt; ä½†å…¶å®å®ƒä¼šåŒ…å«å¾ˆå¤šä¸­é«˜çº§ç”¨æ³•ã€‚åœ¨æ–‡ç« çš„æœ«å°¾ä¼šè¯¦ç»†æè¿°ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä»»åŠ¡å®šä¹‰&#34;&gt;ä»»åŠ¡å®šä¹‰&lt;/h3&gt;

&lt;p&gt;å®šä¹‰ä»»åŠ¡çš„æ–¹æ³•ç±»ä¼¼äº rake çš„ taskï¼Œä½†ä½¿ç”¨ä¸Šç¼ºæ¯”å‰è€…è¦å¥½ç”¨å¾ˆå¤šï¼Œè§ä¸‹è¡¨ï¼š&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å®šä¹‰&lt;/th&gt;
&lt;th&gt;æ˜¯å¦å¿…é¡»&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;desc&lt;/td&gt;
&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ–¹æ³•æè¿°&lt;/td&gt;
&lt;td&gt;å¯å¤šæ¬¡ä½¿ç”¨æ‰“åˆ°æ¢è¡Œçš„ç›®çš„&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ–¹æ³•å&lt;/td&gt;
&lt;td&gt;ç¬¦å·åŒ–çš„æ–¹æ³•å&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;options&lt;/td&gt;
&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ–¹æ³•å‚æ•°&lt;/td&gt;
&lt;td&gt;è¿”å› Hash ç±»å‹&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;task&lt;/td&gt;
&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;æ–¹æ³•ä¸»ä½“&lt;/td&gt;
&lt;td&gt;å‚è€ƒ ruby çš„æ–¹æ³•ä»£ç ä¸”æ”¯æŒ ruby ä»£ç &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;desc &#39;å®šä¹‰ä¸€ä¸ª build æ–¹æ³•&#39;
desc &#39;å‚æ•° adhoc åˆ¤æ–­æ˜¯å¦ä¸ºå†…æµ‹ç‰ˆæœ¬, é»˜è®¤ä¸º false&#39;
desc &#39;fastlane build&#39;
desc &#39;fastlane build adhoc:true&#39;
lane :build do |options|
  # task to do something
  adhoc = options[:adhoc] || false
  puts &amp;quot;adhoc: #{adhoc}&amp;quot;

  gym(type: adhoc ? &#39;adhoc&#39; : &#39;appstore&#39;)
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä»»åŠ¡æ‰§è¡Œ&#34;&gt;ä»»åŠ¡æ‰§è¡Œ&lt;/h3&gt;

&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹å®ƒéœ€è¦é…åˆå®šä¹‰å¥½çš„ lane æ‰èƒ½ä½¿ç”¨ï¼Œåˆšåˆšæˆ‘ä»¬å®šä¹‰çš„ä¸€ä¸ª build æ–¹æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œå°±è¯•ç€æ‰§è¡Œä¸€ä¸‹å§ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# é»˜è®¤æ‰§è¡Œ
$ fastlane build
# ä¼ é€’å‚æ•°
$ fastlane build adhoc:true
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä»»åŠ¡äº’è°ƒ&#34;&gt;ä»»åŠ¡äº’è°ƒ&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;lane&lt;/code&gt; å…¶å®å¯ä»¥ç†è§£ä¸º &lt;code&gt;def&lt;/code&gt; çš„åˆ«åï¼Œå› æ­¤å¤šä¸ª lane çš„è¯å®é™…ä¸Šæ˜¯å¯ä»¥ç›¸äº’è°ƒç”¨çš„ï¼Œè¿™ä¸ªå…¶å®ç‰¹åˆ«å®ç”¨ï¼Œè¿™æ ·å…¶å®æˆ‘å°±å¯ä»¥æŠŠ cocoapods çš„æ‰§è¡Œæ”¾åˆ°å•ç‹¬çš„ lane é‡Œé¢è€Œä¸æ˜¯ &lt;code&gt;before_all&lt;/code&gt;ï¼Œè¿™æ ·æ‰§è¡Œéæ„å»ºçš„ä»»åŠ¡å°±ä¸ä¼šæ‰§è¡Œä¸ç›¸å…³çš„ä»»åŠ¡æˆ–åŠ¨ä½œï¼Œå› æ­¤ fastlane è€Œäº§ç”Ÿäº†ä¸€ä¸ªç§æœ‰ä»»åŠ¡ç”¨å†…éƒ¨ä½¿ç”¨ &lt;code&gt;private_lane&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;
default_platform :ios

platform :ios do
  desc &#39;æ„å»ºå‰çš„å‡†å¤‡å·¥ä½œ&#39;
  desc &#39;è¿™æ˜¯ä¸€ä¸ªç§æœ‰ä»»åŠ¡ï¼Œä»…ä¾› Fastfile å†…éƒ¨ lane è°ƒç”¨ä½¿ç”¨&#39;
  lane :prepare do
    cocoapods
    match
  end

  desc &#39;é€šç”¨çš„æ„å»ºä»»åŠ¡&#39;
  desc &#39;fastlane build&#39;
  desc &#39;fastlane build type:adhoc&#39;
  lane :build do |options|
    # è°ƒç”¨ä¸Šé¢ prepare ç§æœ‰ä»»åŠ¡
    prepare

    case options[:type]
    when &#39;adhoc&#39;
      # è°ƒç”¨ ä¸‹é¢ adhoc ä»»åŠ¡
      adhoc
    else
      # è°ƒç”¨ä¸‹é¢ appstore ä»»åŠ¡
      appstore
    end
  end

  desc &#39;æ„å»º adhoc ä»»åŠ¡&#39;
  desc &#39;fastlane adhoc&#39;
  lane :adhoc do
    gym(type: &#39;adhoc&#39;)
  end

  desc &#39;æ„å»º appstore ä»»åŠ¡&#39;
  desc &#39;fastlane appstore&#39;
  lane :appstore do
    gym(type: &#39;appstore&#39;)
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢çš„ä»»åŠ¡ä¸­ï¼Œ&lt;code&gt;build&lt;/code&gt;/&lt;code&gt;adhoc&lt;/code&gt;/&lt;code&gt;appstore&lt;/code&gt; éƒ½å¯ä»¥æ‰§è¡Œï¼Œåªæœ‰ &lt;code&gt;prepare&lt;/code&gt; æ˜¯æ— æ³•é€šè¿‡å‘½ä»¤è¡Œå¤–éƒ¨æ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œä¼šç›´æ¥æŠ¥é”™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane prepare
[19:17:42]: You can&#39;t call the private lane &#39;prepare&#39; directly
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä»»åŠ¡è¿”å›å€¼&#34;&gt;ä»»åŠ¡è¿”å›å€¼&lt;/h3&gt;

&lt;p&gt;å’Œ ruby çš„æ–¹æ³•ä¸€è‡´ï¼Œæ¯ä¸ª lane æœ€åä¸€è¡Œä¼šé»˜è®¤ä½œä¸ºè¿”å›å€¼ï¼ˆæ— éœ€ &lt;a href=&#34;http://learnrubythehardway.org/book/ex21.html&#34;&gt;return&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;
lane :sum do |options|
  options[:a] + optiona[:b]
end

lane :calculate do
  value = sum(a: 3, b: 5)
  puts value #=&amp;gt; 8
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;å¼•å…¥å¤–éƒ¨ä»»åŠ¡æ–‡ä»¶&#34;&gt;å¼•å…¥å¤–éƒ¨ä»»åŠ¡æ–‡ä»¶&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Fastfile&lt;/code&gt; é™¤äº†è‡ªèº«ä»¥å¤–è¿˜èƒ½å¤Ÿå¼•å…¥å¤–éƒ¨å…¶ä»–çš„ &lt;code&gt;Fastfile&lt;/code&gt; å¹¶è°ƒç”¨ä»»åŠ¡ï¼Œåªéœ€è¦å¯¼å…¥å¤–éƒ¨æ–‡ä»¶å¹¶ä½¿ç”¨ç‰¹æ®Šçš„æ–¹æ³•æ ‡è¯†å³å¯ï¼š&lt;/p&gt;

&lt;h4 id=&#34;1-import-å¯¼å…¥æœ¬åœ°æ–‡ä»¶&#34;&gt;1. import - å¯¼å…¥æœ¬åœ°æ–‡ä»¶&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# å¯¼å…¥ lanes ç›®å½•çš„ AndroidFastfile
import &amp;quot;lanes/AndroidFastfile&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-import-from-git-å¯¼å…¥-git-ä»“åº“æ–‡ä»¶&#34;&gt;2. import_from_git - å¯¼å…¥ git ä»“åº“æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;å¯ä»¥ç›´æ¥å¼•å…¥ git ä»“åº“çš„ Fastfile æ–‡ä»¶æ˜¯ä¸€ä¸ªéå¸¸èµçš„åŠŸèƒ½ï¼Œé€šè¿‡ä½¿ç”¨å‘ç°å…¶å®ç°åŸç†æ˜¯å…ˆæŠŠ git ä»“åº“å…‹éš†ä¸‹æ¥ååœ¨å¼•å…¥ç›¸å¯¹äºçš„æ–‡ä»¶ï¼Œå› æ­¤å»ºè®®å›½å†…åœ¨æ²¡æœ‰ç½‘ç»œåŠ é€Ÿï¼ˆç¿»å¢™ï¼‰çš„æƒ…å†µä¸‹å°½é‡ä¸ç”¨å¼•å…¥æ¯”è¾ƒå¤§çš„ git ä»“åº“ï¼Œå¦åˆ™ä½¿ç”¨ä¼šéœ€è¦æ¼«é•¿çš„ç­‰å¾…&amp;hellip;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# å¯¼å…¥ mozilla/firefox-ios é¡¹ç›®ä¸‹ fastlane ä¸‹é¢ Fastfile æ–‡ä»¶
import_from_git(url: &#39;https://github.com/mozilla/firefox-ios&#39;)
# æˆ–è€…
import_from_git(url: &#39;git@github.com:mozilla/firefox-ios.git&#39;,
               path: &#39;fastlane/Fastfile&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‡è‹¥å¤–éƒ¨å¼•å…¥çš„ &lt;code&gt;Fastfile&lt;/code&gt; æœ‰ä¸ªæ–¹æ³•æ˜¯ &lt;strong&gt;build&lt;/strong&gt;ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·ç›´æ¥æ‰§è¡Œå³å¯ï¼Œå¦‚æœå¤–éƒ¨å’Œå†…éƒ¨éƒ½æœ‰ç›¸åŒçš„ä»»åŠ¡åï¼Œæ‰§è¡Œä¼šç›´æ¥æŠ¥é”™ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane ios build

[!] Lane &#39;gradle&#39; was defined multiple times!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœå‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ä¸”ä½ å¸Œæœ›åœ¨ä¸»ä½“ &lt;code&gt;Fastfile&lt;/code&gt; ä¹Ÿè°ƒç”¨çš„è¯éœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„æ–¹æ³•å®šä¹‰ï¼š&lt;code&gt;override_lane&lt;/code&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šæ­¤æ–¹æ³•åªä¼šè¦†ç›–å¤–éƒ¨çš„ç›¸åŒæ–¹æ³•åçš„ä»£ç æ‰§è¡Œï¼Œç›®å‰æš‚æ—¶æ— æ³•ä½¿ç”¨ç±»ä¼¼ ruby çš„ &lt;code&gt;super&lt;/code&gt; ç»§æ‰¿åŸç”±æ–¹æ³•ï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;override_lane :build do
  ...
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä»»åŠ¡æŸ¥çœ‹&#34;&gt;ä»»åŠ¡æŸ¥çœ‹&lt;/h3&gt;

&lt;p&gt;åªéœ€æ‰§è¡Œä¸‹é¢è¿™è¡Œå‘½ä»¤å°±å¯ä»¥çœ‹åˆ°éç§æœ‰ä»»åŠ¡çš„å¯ç”¨åˆ—è¡¨ä¿¡æ¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane lanes

--------- ios---------
----- fastlane ios build
é€šç”¨çš„æ„å»ºä»»åŠ¡
fastlane build
fastlane build type:adhoc

----- fastlane ios adhoc
æ„å»º adhoc ä»»åŠ¡

----- fastlane ios appstore
æ„å»º appstore ä»»åŠ¡

Execute using `fastlane [lane_name]`
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ‰©å±•-action&#34;&gt;æ‰©å±•ï¼ˆActionï¼‰&lt;/h2&gt;

&lt;p&gt;æ‰©å±•æ˜¯ fastlane çš„æ€æ‰‹é”ï¼Œé‡åœ¨é›†æˆäº†ä¼—å¤šéå¸¸ä¼˜ç§€å¥½ç”¨çš„æ–¹æ³•ä¾› lane å†…éƒ¨ä½¿ç”¨ï¼Œæˆªè‡³ fastlane v&lt;code&gt;1.98.0&lt;/code&gt; ç‰ˆæœ¬ä»¥åŒ…å« 175 ä¸ªæ‰©å±•ï¼Œè¿™ä¸ªæ•°é‡è¿˜åœ¨é™†ç»­å¢åŠ ä¸­ã€‚æ‰©å±•åˆæœŸæ˜¯ç”±å‘èµ·äººä¸€ä¸ªäººå®Œæˆï¼Œåç»­çš„å¤§éƒ¨åˆ†éƒ½æ˜¯ç¤¾åŒºå…±äº«ï¼Œå¦‚æœä½ å‘ç°æ²¡æœ‰ä½ æƒ³è¦çš„æ‰©å±•ï¼Œå¯ä»¥å…ˆå» &lt;a href=&#34;https://github.com/fastlane/fastlane/issues?q=is%3Aopen+is%3Aissue+label%3Aaction&#34;&gt;issues&lt;/a&gt; æœç´¢ä¸‹æ²¡æœ‰è¦ä¹ˆè‡ªå·±åŠ¨æ‰‹æäº¤è¦ä¹ˆåªæœ‰ç­‰å¾…äº†.&lt;/p&gt;

&lt;h3 id=&#34;æ‰©å±•åˆ—è¡¨&#34;&gt;æ‰©å±•åˆ—è¡¨&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane actions
+--------------------+-------------------------------------------------------------+------------------+
|                                   Available fastlane actions                                        |
+--------------------+-------------------------------------------------------------+------------------+
| Action             | Description                                                 | Author           |
+--------------------+-------------------------------------------------------------+------------------+
| adb                | Run ADB Actions                                             | hjanuschka       |
| adb_devices        | Get an Array of Connected android device serials            | hjanuschka       |
| add_git_tag        | This will add an annotated git tag to the current branch    | Multiple         |
...
+--------------------+-------------------------------------------------------------+------------------+
  Total of 175 actions

Get more information for one specific action using `fastlane action [name]`
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;æ‰©å±•ä½¿ç”¨å¸®åŠ©&#34;&gt;æ‰©å±•ä½¿ç”¨å¸®åŠ©&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# æŸ¥çœ‹ adb æ‰©å±•çš„ä½¿ç”¨å¸®åŠ©
$ fastlane action adb
Loading documentation for adb:

+---------------------------------+
|               adb               |
+---------------------------------+
| Run ADB Actions                 |
|                                 |
| see adb --help for more details |
|                                 |
| Created by hjanuschka           |
+---------------------------------+

+----------+----------------------------------------------------------------------+-------------------+---------+
|                                                  adb Options                                                  |
+----------+----------------------------------------------------------------------+-------------------+---------+
| Key      | Description                                                          | Env Var           | Default |
+----------+----------------------------------------------------------------------+-------------------+---------+
| serial   | Android serial, which device should be used for this command         | FL_ANDROID_SERIAL |         |
| command  | All commands you want to pass to the adb command, e.g. `kill-server` | FL_ADB_COMMAND    |         |
| adb_path | The path to your `adb` binary                                        | FL_ADB_PATH       | adb     |
+----------+----------------------------------------------------------------------+-------------------+---------+

+-------------------------------+
|       adb Return Value        |
+-------------------------------+
| The output of the adb command |
+-------------------------------+

More information can be found on https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Actions.md
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;åˆ›å»ºè‡ªå®šä¹‰æ‰©å±•&#34;&gt;åˆ›å»ºè‡ªå®šä¹‰æ‰©å±•&lt;/h3&gt;

&lt;p&gt;é€šè¿‡å†…ç½®çš„å‘½ä»¤åˆ›å»ºä½ éœ€è¦çš„æ‰©å±•ï¼Œæ‰©å±•åå¿…é¡»æ˜¯å…¨éƒ¨å°å†™ä¸”åªèƒ½ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å‰²è¯ç»„ï¼Œç”Ÿæˆå¥½çš„æ‰©å±•æ–‡ä»¶ä¼šåœ¨ &lt;code&gt;fastlane/actions&lt;/code&gt; ç›®å½•æ‰¾åˆ°:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane new_action
Must be lower case, and use a &#39;_&#39; between words. Do not use &#39;.&#39;
examples: &#39;testflight&#39;, &#39;upload_to_s3&#39;
Name of your action: hello
[15:33:15]: Created new action file &#39;./fastlane/actions/hello.rb&#39;. Edit it to implement your custom action.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™å—ä¼šå æ¯”è¾ƒå¤§çš„ç¯‡å¹…ï¼Œå°½æƒ…æœŸå¾…åç»­çš„å±•å¼€ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å¼•å…¥å¤–éƒ¨æ‰©å±•&#34;&gt;å¼•å…¥å¤–éƒ¨æ‰©å±•&lt;/h3&gt;

&lt;p&gt;è¿™å—å…¶å®ä¹Ÿæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¼•å…¥ï¼Œæ–‡ä»¶å¼•å…¥æ˜¯å®˜æ–¹æ•™ç¨‹æä¾›çš„æ–¹æ³•ï¼Œç¬¬äºŒç§æ˜¯æˆ‘ä¸ªäººå°è¯•å‡ºæ¥çš„ï¼Œç¬¬ä¸‰ç§æ˜¯æœ€è¿‘ç‰ˆæœ¬æ‰å®˜æ–¹æ”¯æŒçš„ã€‚&lt;/p&gt;

&lt;h4 id=&#34;1-æœ¬åœ°æ–‡ä»¶å¼•å…¥&#34;&gt;1. æœ¬åœ°æ–‡ä»¶å¼•å…¥&lt;/h4&gt;

&lt;p&gt;è‡ªå®šä¹‰çš„æ‰©å±•å…¶å®ä¹Ÿç®—æ˜¯æœ¬åœ°æ–‡ä»¶å¼•å…¥çš„ä¸€ç§å½¢å¼ï¼Œå½“ç„¶ä½äºå…¶ä»–è·¯å¾„çš„é€šè¿‡æŒ‡å®šæ–¹æ³•ä¹Ÿèƒ½åšåˆ°&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# å¼•å…¥é¡¹ç›®æ ¹ç›®å½• script/share_actions è·¯å¾„
actions_path &#39;../script/share_actions&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-rubygem-å¼•å…¥&#34;&gt;2. rubygem å¼•å…¥&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸å†å»ºè®®ä½¿ç”¨æœ¬æ–¹æ³•ï¼Œè¯·çœ‹ç¬¬ä¸‰ç§æ’ä»¶å¼•å…¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘åœ¨å›¢é˜Ÿå†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ‰©å±•ï¼Œä»…é™äºå›¢é˜Ÿå†…éƒ¨ä½¿ç”¨è€Œæ— æ³•è´¡çŒ®ç¤¾åŒºï¼Œæˆ‘åªèƒ½é‡‡å–å°è£…æˆ ruby gem åŒ…ï¼Œé€šè¿‡ ruby çš„ &lt;code&gt;require&lt;/code&gt; æ–¹å¼å¼•å…¥ï¼Œæœ€ç»ˆå¯ä»¥å®Œç¾æ”¯æŒï¼Œç›®å‰å·²åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¤§åŠå¹´ä¹‹ä¹…ã€‚æœ€é‡è¦çš„æ˜¯æˆ‘æ˜¯å¼€æºçš„ï¼š&lt;a href=&#34;https://github.com/icyleaf/fastlane-qyer&#34;&gt;fastlane-qyer&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# é¦–å…ˆå®‰è£…éœ€è¦çš„ rubygem: gem install fastlane-qyer
require &#39;fastlane-qyer&#39;

lane :upload do
  qyer(api_key: &#39;[token]&#39;)
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„ï¼Œä½¿ç”¨ rubygem å¼•å…¥çš„æ— æ³•åœ¨ fastlane actions ä¸­æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨ fastlane action [name] æŸ¥çœ‹ä½¿ç”¨å¸®åŠ©ã€‚æˆ‘çŒœæƒ³ä¸€æ˜¯å®˜æ–¹æ²¡æœ‰è¿™æ ·æä¾›æ€è·¯ï¼ŒäºŒæ˜¯å°±ç®—ä½ å¼•å…¥äº† gem ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¥½åˆ¤æ–­é‡Œé¢çš„æ–‡ä»¶ç»“æ„ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-æ’ä»¶å¼•å…¥&#34;&gt;3. æ’ä»¶å¼•å…¥&lt;/h4&gt;

&lt;p&gt;æˆ‘æ³¨æ„åˆ° &lt;a href=&#34;https://github.com/fastlane/fastlane/releases/tag/1.93.0&#34;&gt;1.93.0&lt;/a&gt; å¢åŠ äº†æ’ä»¶æœºåˆ¶ï¼Œå¾ˆå¥½çš„è§£å†³ç¬¬äºŒç§å‡ºç°çš„ä¸€äº›é—®é¢˜ã€‚å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ä¸»è¦æ˜¯é‡‡ç”¨ &lt;code&gt;Gemfile&lt;/code&gt; çš„æ–¹å¼ä½¿ç”¨ &lt;code&gt;Pluginfile&lt;/code&gt; ç»´æŠ¤äº†å¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶åˆ—è¡¨ã€‚å®ç°åŸç†è¿˜æ˜¯å±äºç¬¬äºŒç§æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡ &lt;code&gt;fastlane search_plugins&lt;/code&gt; æŸ¥çœ‹å½“å‰æ”¯æŒçš„æ’ä»¶ï¼Œå¹¶ä½¿ç”¨ &lt;code&gt;fastlane add_plugins [name]&lt;/code&gt; å¼•å…¥ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane search_plugins
[16:04:33]: Listing all available fastlane plugins

+--------------------------+---------------------------------------------------+-----------+
|                                Available fastlane plugins                                |
+--------------------------+---------------------------------------------------+-----------+
| Name                     | Description                                       | Downloads |
+--------------------------+---------------------------------------------------+-----------+
| ruby                     | Useful fastlane actions for Ruby projects         | 782       |
| versioning               | Allows to work set/get app version directly       | 758       |
|                          | to/from Info.plist                                |           |
| branding                 | Add some branding to your fastlane output         | 716       |
| instrumented_tests       | New action to run instrumented tests for android. | 590       |
|                          | This basically creates and boots an emulator      |           |
|                          | before running an gradle commands so that you can |           |
|                          | run instrumented tests against that emulator.     |           |
|                          | After the gradle command is executed, the avd     |           |
|                          | gets shut down and deleted. This is really        |           |
|                          | helpful on CI services, keeping them clean and    |           |
|                          | always having a fresh avd for testing.            |           |
| xamarin_build            | Build xamarin android\ios projects                | 582       |
| appicon                  | Generate required icon sizes and iconset from a   | 509       |
|                          | master application icon.                          |           |
...
| download_file            | This action downloads a file from an HTTP/HTTPS   | 171       |
|                          | url (e.g. ZIP file) and puts it in a destination  |           |
|                          | path                                              |           |
+--------------------------+---------------------------------------------------+-----------+

# æ·»åŠ  sentry æ’ä»¶
$ fastlane add_plugin sentry
[16:16:23]: Plugin &#39;fastlane-plugin-sentry&#39; was added to &#39;./fastlane/Pluginfile&#39;
[16:16:23]: It looks like fastlane plugins are not yet set up for this project.
[16:16:23]: fastlane will create a new Gemfile at path &#39;Gemfile&#39;
[16:16:23]: This change is neccessary for fastlane plugins to work
Should fastlane modify the Gemfile at path &#39;Gemfile&#39; for you? (y/n)
y
[16:16:29]: Successfully modified &#39;Gemfile&#39;
[16:16:29]: Make sure to commit your Gemfile, Gemfile.lock and Pluginfile to version control
Installing plugin dependencies...
Successfully installed plugins

$ cat fastlane/Pluginfile
# Autogenerated by fastlane
#
# Ensure this file is checked in to source control!

gem &#39;fastlane-plugin-sentry&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›´è¯¦ç»†çš„ç»§ç»­æœŸå¾…åç»­æŠ¥é“ï¼Œæˆ‘è¦æŒ–å‘æ— æ•°ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ‰©å±•çš„å‘½ä»¤è¡Œè°ƒç”¨&#34;&gt;æ‰©å±•çš„å‘½ä»¤è¡Œè°ƒç”¨&lt;/h3&gt;

&lt;p&gt;ç¤¾åŒºçš„åŠ›é‡æœç„¶æ˜¯å¾ˆå¼ºå¤§çš„ï¼Œé™†ç»­æ·»åŠ äº†é‚£ä¹ˆå¤šåŠŸèƒ½ï¼Œæ—©æœŸç”¨æˆ·è¡¨ç¤ºä¸å¼€å¿ƒï¼å—¯ï¼Œç”±äºç¤¾åŒºçš„å‘¼å£°å’Œè´¡çŒ®ç›®å‰å¯ä»¥é€šè¿‡å‘½ä»¤è°ƒç”¨æ‰©å±•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# ä½¿ç”¨ notification æ‰©å±•å‘é€ä¸€ä¸ªé€šçŸ¥æ¶ˆæ¯
$ fastlane run notification message:&amp;quot;Hi macOS&amp;quot; title:&amp;quot;Fastlane Notification&amp;quot;
[15:58:05]: --------------------------
[15:58:05]: --- Step: notification ---
[15:58:05]: --------------------------
[15:58:05]: Result: true
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;è¾…åŠ©åŠŸèƒ½&#34;&gt;è¾…åŠ©åŠŸèƒ½&lt;/h2&gt;

&lt;h3 id=&#34;è‡ªåŠ¨æ›´æ–°&#34;&gt;è‡ªåŠ¨æ›´æ–°&lt;/h3&gt;

&lt;p&gt;fastlane æä¾›ä¸€ä¸ªæ–¹æ³• &lt;code&gt;update_fastlane&lt;/code&gt; ç”¨äºå¯¹äºè‡ªèº«çš„ç‰ˆæœ¬æ£€æŸ¥å’Œæ›´æ–°ï¼Œè¿™ä¸ªç¬¬ä¸€ç¯‡æ–‡ç« æˆ‘ä¹Ÿæœ‰æåˆ°è¿‡ã€‚å®ƒå…¶å®ä¸€ä¸ªæ˜¯ä¸€ä¸ªæ‰©å±•ï¼Œä½¿ç”¨ &lt;code&gt;fastlane action update_fastlane&lt;/code&gt; èƒ½å¤Ÿçœ‹åˆ°ä½¿ç”¨å¸®åŠ©ã€‚å®ƒæœ‰ä¸€ä¸ªå‚æ•°æ˜¯å¯ä»¥æŒ‡å®šæ£€æŸ¥ç‰¹å®šçš„ fastlane å·¥å…·å¹¶è¿›è¡Œæ›´æ–°ï¼Œä½†å…¶å®å®ƒæ˜¯ä½¿ç”¨ rubygems è¿›è¡Œå¯¹ gem çš„æ›´æ–°ï¼Œå› æ­¤è¿™å—å…¶å®å¯ä»¥ä¼ å…¥ä»»ä½•éœ€è¦æ£€æŸ¥å¹¶æ›´æ–°çš„ gemï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;update_fastlane(tools:&#39;fastlane,gym,match,cocoapods,rest-client&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ç¯å¢ƒå˜é‡&#34;&gt;ç¯å¢ƒå˜é‡&lt;/h3&gt;

&lt;p&gt;ä» fastlane çš„è®¾è®¡ä½“ç³»ä¸Šåœ¨å„ä¸ªåœ°æ–¹éƒ½åŠ å…¥äº†ç¯å¢ƒå˜é‡çš„æ”¯æŒï¼Œæ¯ä¸ªæ‰©å±•çš„å‚æ•°ã€ä»¥åŠæ‰©å±•éœ€è¦å…±äº«ç»™å…¶ä»–æ‰©å±•å’Œä»»åŠ¡è¯»å–çš„æ•°æ®éƒ½æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡è·å–ï¼Œå¦‚ä¸‹æ˜¯æˆ‘æ”¶é›†çš„æ¯”è¾ƒå¸¸ç”¨çš„åˆ—è¡¨ï¼š&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç¯å¢ƒå˜é‡&lt;/th&gt;
&lt;th&gt;æ¥æº&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;th&gt;å¤‡æ³¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;FASTLANE_USER&lt;/td&gt;
&lt;td&gt;credentials_manager&lt;/td&gt;
&lt;td&gt;Apple å¼€å‘è€…è´¦æˆ·å&lt;/td&gt;
&lt;td&gt;éªŒè¯é€šè¿‡åä¼šä¿å­˜ Keychain&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;FASTLANE_PASSWORD&lt;/td&gt;
&lt;td&gt;credentials_manager&lt;/td&gt;
&lt;td&gt;Apple å¼€å‘è€…è´¦æˆ·å¯†ç &lt;/td&gt;
&lt;td&gt;éªŒè¯é€šè¿‡åä¼šä¿å­˜ Keychain&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;FASTLANE_TEAM_ID&lt;br /&gt;CERT_TEAM_ID&lt;/td&gt;
&lt;td&gt;produce&lt;br /&gt;sigh&lt;/td&gt;
&lt;td&gt;Apple å›¢é˜Ÿ ID&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;DELIVER_USER&lt;br \&gt;PRODUCE_USERNAME&lt;/td&gt;
&lt;td&gt;deliver&lt;br /&gt;produce&lt;/td&gt;
&lt;td&gt;iTunesConnect è´¦æˆ·å&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;DELIVER_PASSWORD&lt;/td&gt;
&lt;td&gt;deliver&lt;/td&gt;
&lt;td&gt;iTunesConnect è´¦æˆ·å¯†ç &lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;MATCH_PASSWORD&lt;/td&gt;
&lt;td&gt;match&lt;/td&gt;
&lt;td&gt;è¯ä¹¦åŠ /è§£å¯†å¯†ç &lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;FASTLANE_XCODE_LIST_TIMEOUT&lt;/td&gt;
&lt;td&gt;fastlane_core&lt;/td&gt;
&lt;td&gt;è·å– iOS Scheme çš„è¶…æ—¶æ—¶é—´&lt;/td&gt;
&lt;td&gt;é»˜è®¤ 10s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>Gitlab API Wrapper for Crystal</title>
      <link>http://icyleaf.com/2016/07/gitlab-api-wrapper-for-crystal</link>
      <pubDate>Mon, 11 Jul 2016 20:41:26 +0800</pubDate>
      
      <guid>http://icyleaf.com/2016/07/gitlab-api-wrapper-for-crystal</guid>
      <description>

&lt;h2 id=&#34;gitlab-cr&#34;&gt;Gitlab.cr&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/icyleaf/gitlab.cr&#34;&gt;gitlab.cr&lt;/a&gt; æ˜¯æˆ‘æœ€è¿‘è¯¾ä¸‹ç»ƒä¹ çš„æ–°è¯­è¨€ &lt;a href=&#34;http://crystal-lang.org/&#34;&gt;Crystal&lt;/a&gt; å†™çš„ gitlab åŒ…ï¼Œæ–¹æ³•å’ŒåŠŸèƒ½å’Œ &lt;a href=&#34;https://github.com/NARKOZ/gitlab&#34;&gt;gitlab ruby ç‰ˆæœ¬&lt;/a&gt;åŸºæœ¬ç±»ä¼¼ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰å·²ç»å®Œæˆäº†å¤§éƒ¨åˆ† API çš„å°è£…ï¼Œåœ¨ä¸€è¾¹ç†Ÿæ‚‰ crystal çš„åŒæ—¶ä¸€è¾¹è¡¥å……ï¼Œå…¶ä¸­è‚¯å®šæœ‰ä¸€äº›æ€§èƒ½é—®é¢˜å’Œå‘ï¼Œæ¯•ç«Ÿæ²¡æœ‰ä»»ä½•ä¾èµ–éƒ½æ˜¯è‡ªå·±å®ç°çš„ã€‚æ¯”è¾ƒå‘çˆ¹çš„æ˜¯å®˜æ–¹æ‰‹å†Œå¤ªç®€å•ï¼Œä¹Ÿæ²¡æœ‰å®æ—¶è·Ÿè¿›ï¼Œèƒ½å¤Ÿå¥½å¥½ç¿»é˜…çš„å…¶å®ä¹Ÿå°±æ˜¯å®˜æ–¹çš„ API æ–‡æ¡£å’Œæºç ã€‚ä¸è¿‡ crystal è¿˜ç®—æ¯”è¾ƒäººæ€§åŒ–çš„ä¸€é¢ï¼Œé»˜è®¤é›†æˆäº†ç±»ä¼¼ rspce çš„å•å…ƒæµ‹è¯•ï¼ˆç®€åŒ–ç‰ˆï¼‰å’Œä¾èµ–åº“ç®¡ç† shardsï¼ˆç±»ä¼¼ bundlerï¼‰å’Œç”Ÿæˆæ–‡æ¡£çš„å·¥å…·ã€‚é€šè¿‡ &lt;a href=&#34;https://travis-ci.org/``&#34;&gt;travis-ci&lt;/a&gt; ä¼šè‡ªåŠ¨ç”Ÿæˆæ¯æ¬¡ git push çš„å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;API æ–‡æ¡£ï¼š&lt;a href=&#34;http://icyleaf.github.io/gitlab.cr/&#34;&gt;http://icyleaf.github.io/gitlab.cr/&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºä»€ä¹ˆå­¦ä¹ -crystal&#34;&gt;ä¸ºä»€ä¹ˆå­¦ä¹  Crystalï¼Ÿ&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://cloud.githubusercontent.com/assets/209371/13291809/022e2360-daf8-11e5-8be7-d02c1c8b38fb.png&#34; alt=&#34;crystal logo&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Ruby çš„ç¼ºç‚¹ä¼—æ‰€å‘¨çŸ¥çš„ä¸€ä¸ªç‚¹å°±æ˜¯æ…¢ï¼Œè™½è¯´ç”¨å®ƒçš„äººéƒ½ä¸åœ¨ä¹ä¸»è¦æ˜¯ç”¨çš„çˆ½ï¼Œso whatï¼è¿™ä¸€è‡´å‘½çš„å‘å…¶å®é»˜é»˜çš„è¢«æ‰¿å—ç€ï¼Œå¾ˆå¤šçš„ Ruby å¼€å‘è€…ä¹Ÿåœ¨ä¸€ç›´å¯»è§…ç€æ–°çš„æ›´é«˜æ€§èƒ½çš„è¯­è¨€ã€‚æ¯”å¦‚ Gitlab çš„ Build Runner ä½¿ç”¨ Go å®ç°äº†ã€‚Rails çš„æ ¸å¿ƒå¼€å‘è€…åŸºäºå¤šå¹´å¯¹ Ruby çš„æ€¨å¿µè€Œå¼€å‘çš„ Elixirï¼Œè¿˜æœ‰ Firefox ä¸»å¯¼çš„ Rust ä¹Ÿå¸å¼•äº†ä¸å°‘ç›®å…‰ã€‚æœ‰é‚£ä¹ˆå¤šé€‰æ‹©ä¸ºä»€ä¹ˆååé€‰äº†è¿™ä¹ˆä¸€ä¸ªæ²¡æœ‰å¬è¯´è¿‡çš„è¯­è¨€ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&#34;è¯­è¨€ä¼˜åŠ¿&#34;&gt;è¯­è¨€ä¼˜åŠ¿&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼ Ruby é£æ ¼è¯­æ³•ï¼ˆä½†èˆå¼ƒäº†ä¸€äº›åŠ¨æ€ç‰¹æ€§ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼ˆå’Œ Ruby ä¸€æ ·ï¼‰&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ç±»å‹æ¨èå’Œé™æ€ç±»å‹æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ–¹æ³•é‡è½½&lt;/li&gt;
&lt;li&gt;æ˜“ç”¨çš„ C è¯­è¨€åº“çš„ç»‘å®šæœºåˆ¶&lt;/li&gt;
&lt;li&gt;åŸºäº LLVMï¼ˆç›®å‰ä¸æ”¯æŒ Windowsï¼‰&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘æ€§è¯­è¨€ï¼Œå¯ä»¥æ‰“åŒ…äºŒè¿›åˆ¶åŒ…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»…ä»…æ˜¯è¿™äº›å¯èƒ½å¤§å®¶è§‰å¾—æ²¡ä»€ä¹ˆï¼Œå…¶å®å¯¹æˆ‘æ¥è¯´ä¹Ÿä¸å¤Ÿå†²å‡»åŠ›ï¼Œæœ€é‡è¦çš„å…³é”®æ˜¯åœ¨æˆ‘ä»è®¢é˜…çš„ Ruby Weekly å‘¨åˆŠçœ‹åˆ° sidekiq çš„ä½œè€…ç”¨ crystal é‡æ–°å®ç°äº†æ ¸å¿ƒéƒ¨åˆ†å‘çš„&lt;a href=&#34;http://www.mikeperham.com/2016/05/25/sidekiq-for-crystal/&#34;&gt;åšæ–‡åˆ†äº«&lt;/a&gt;ï¼Œæåˆ°çš„ä¸€ç‚¹ï¼š&lt;strong&gt;è‡³å°‘æ˜¯æ¯” ruby 2.3 å¤§éƒ¨åˆ†ä»£ç è¦å¿« 3-5 å€ï¼Œå‡å°‘è‡³å°‘ 3 å€çš„å†…å­˜å ç”¨&lt;/strong&gt;ã€‚æ€€ç€æ€€ç–‘çš„æ€åº¦æˆ‘å¤§æ¦‚çš„ç ”ç©¶äº†è¿™ä¸ªè¯­è¨€ï¼Œç¡®å®çœ‹åˆ°äº†æ–°å¸Œæœ›ã€‚&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åº“&lt;/th&gt;
&lt;th&gt;è¯­è¨€&lt;/th&gt;
&lt;th&gt;å¹¶å‘é‡&lt;/th&gt;
&lt;th&gt;å¹³å‡å“åº”æ—¶é—´&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/sdogruyol/fast-http-server&#34;&gt;fast-http-server&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Crystal&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;18348.47rpm&lt;/td&gt;
&lt;td&gt;8.67ms&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/indexzero/http-server&#34;&gt;http-server&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Node.js&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;2105.55rpm&lt;/td&gt;
&lt;td&gt;47.92ms&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://docs.python.org/2/library/simplehttpserver.html&#34;&gt;SimpleHTTPServer&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Python&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;785.14rpm&lt;/td&gt;
&lt;td&gt;1.91ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;è¿˜æœ‰ä¸€ä»½ä¸€ç›´å†æ›´æ–°ç»´æŠ¤çš„è¯­è¨€ä¹‹é—´çš„&lt;a href=&#34;https://github.com/kostya/benchmarks&#34;&gt;è¯„æµ‹&lt;/a&gt;ä»…ä¾›å‚è€ƒï¼Œçœ‹ç€é‡Œé¢çš„æ•°æ®è¿˜æ˜¯è›®å¸å¼•äººçš„ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è¯„æµ‹æ•°æ®æ¥æº: &lt;a href=&#34;http://www.akitaonrails.com/2016/05/31/flirting-with-crystal-a-rubyist-perspective&#34;&gt;Flirting with Crystal, a Rubyist Perspective&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;è¯­è¨€å‹å¥½&#34;&gt;è¯­è¨€å‹å¥½&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# File: server.cr
require &amp;quot;http/server&amp;quot;

server = HTTP::Server.new(8080) do |context|
  context.response.content_type = &amp;quot;text/plain&amp;quot;
  context.response.print &amp;quot;Hello world! The time is #{Time.now}&amp;quot;
end

puts &amp;quot;Listening on http://0.0.0.0:8080&amp;quot;
server.listen
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;çœ‹ç€æ˜¯ä¸æ˜¯æ˜¯ä¸æ˜¯å’Œ Ruby å·®ä¸å¤šã€‚é€šè¿‡å‘½ä»¤ç¼–è¯‘æˆäºŒè¿›åˆ¶åœ¨è¿è¡Œè¯•è¯•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ crystal build --release server.cr
$ ./server
Listening on http://0.0.0.0:8080
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;macOS ç”¨æˆ·å¯ä»¥é€šè¿‡ brew è¿›è¡Œå®‰è£… &lt;code&gt;brew install crystal-lang&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;è¯­è¨€é™åˆ¶&#34;&gt;è¯­è¨€é™åˆ¶&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰äº†å¼ºå¤§çš„é»‘é­”æ³•ï¼Œå°¤å…¶æ˜¯é’ˆå¯¹ &lt;code&gt;eval&lt;/code&gt; å’Œ &lt;code&gt;send&lt;/code&gt; ä¸¤ä¸ªçš„ç¼ºå¤±ã€‚æä¾›äº† macro çš„æ–¹å¼å¯ä»¥å®ç°éƒ¨åˆ†åŠ¨æ€å®šä¹‰æ–¹æ³•çš„æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;require å¼•å…¥å¿…é¡»æ”¾ç½®åœ¨å¤´éƒ¨ï¼ˆcrystal 0.7.7 ä»¥ä¸Šç‰ˆæœ¬çš„é™åˆ¶ï¼‰&lt;/li&gt;
&lt;li&gt;æœ‰å¾…ä¼˜åŒ–çš„ gc æœºåˆ¶ï¼ˆç›®å‰é‡‡ç”¨çš„æ˜¯ &lt;a href=&#34;https://zh.wikipedia.org/wiki/%E8%B2%9D%E5%A7%86%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8&#34;&gt;Hans Boehm GC&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;è¿˜åœ¨å¼€å‘ä¸­çš„è¯­è¨€ï¼ŒAPI å˜åŒ–å¾ˆå¿«&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æœ€åæƒ³è¯´çš„è¯&#34;&gt;æœ€åæƒ³è¯´çš„è¯&lt;/h2&gt;

&lt;p&gt;æ€»ä½“æ¥è¯´æ˜¯ä¸€ä¸ªè®©äººçœ¼å‰ä¸€äº®çš„è¯­è¨€ï¼Œå¾ˆæ˜¯æœŸå¾…åç»­çš„è¿›åŒ–ã€‚æˆ‘ç›¸ä¿¡ sidekiq ä½œè€…çš„é‚£ç¯‡åšæ–‡ä¹Ÿè®©æ— æ•°å¼€å‘è€…çœ‹åˆ°äº†æ–°å¤§é™†ã€‚ç›®å‰é¡¹ç›®ä¹Ÿåœ¨&lt;a href=&#34;https://salt.bountysource.com/teams/crystal-lang&#34;&gt;æçŒ®&lt;/a&gt;ä¸­ï¼Œå¦‚æœä½ å¯¹å®ƒæ„Ÿå…´è¶£ä¸å¦¨æ…·æ…¨çš„åŠ¨åŠ¨è‡ªå·±çš„é’±åŒ…ï¼ŒRuby çš„åˆ›å§‹äºº matz ç›´æ¥æçŒ®äº† $500ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç›¸å…³èµ„æº&#34;&gt;ç›¸å…³èµ„æº&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä½œè€… Twitter: &lt;a href=&#34;https://twitter.com/asterite&#34;&gt;https://twitter.com/asterite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Awesome Crystal: &lt;a href=&#34;http://awesome-crystal.com/&#34;&gt;http://awesome-crystal.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sidekiq for Crystal: &lt;a href=&#34;http://www.mikeperham.com/2016/05/25/sidekiq-for-crystal/&#34;&gt;http://www.mikeperham.com/2016/05/25/sidekiq-for-crystal/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Test Driving Sidekiq and Crystal: &lt;a href=&#34;http://www.mikeperham.com/2016/06/14/test-driving-sidekiq-and-crystal/&#34;&gt;http://www.mikeperham.com/2016/06/14/test-driving-sidekiq-and-crystal/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Flirting with Crystal, a Rubyist Perspective: &lt;a href=&#34;http://www.akitaonrails.com/2016/05/31/flirting-with-crystal-a-rubyist-perspective&#34;&gt;http://www.akitaonrails.com/2016/05/31/flirting-with-crystal-a-rubyist-perspective&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Fastlane - iOS å’Œ Android çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·</title>
      <link>http://icyleaf.com/2016/07/intro-fastlane-automation-for-ios-and-android</link>
      <pubDate>Mon, 11 Jul 2016 12:36:07 +0800</pubDate>
      
      <guid>http://icyleaf.com/2016/07/intro-fastlane-automation-for-ios-and-android</guid>
      <description>

&lt;h3 id=&#34;ç³»åˆ—ç´¢å¼•&#34;&gt;ç³»åˆ—ç´¢å¼•&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://icyleaf.com/2016/07/intro-fastlane-automation-for-ios-and-android/&#34;&gt;Fastlane - iOS å’Œ Android çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://icyleaf.com/2016/07/fastlane-in-action/&#34;&gt;æ·±å…¥æµ…å‡º Fastlane ä¸€çœ‹ä½ å°±æ‡‚&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;è¿™ç¯‡æ–‡ç« æ•´ç†äº†å¾ˆä¹…ï¼Œå‘ç°åœ¨ä¸€ç¯‡æ–‡ç« é‡Œæ— æ³•ä¸€ä¸€è®²è¿°å’Œå…¨é¢çš„è¦†ç›–ï¼Œåˆæ­¥æ‰“ç®—æ˜¯æŠŠè¿™ä¸ªåšæˆä¸€ä¸ªç³»åˆ—ï¼Œæƒ³åˆ°å“ªé‡Œå°±å†™åˆ°å“ªé‡Œï¼Œå¦‚æœæ°å¥½æœ‰è¯»è€…çˆ±æˆ´å¹¶æœ‰ä¸€äº›å»ºè®®åé¦ˆï¼Œæˆ‘ä¹Ÿä¼šæ ¹æ®å¤§å®¶çš„éœ€è¦è°ƒæ•´å†…å®¹çš„æ–¹å‘å’Œæ·±åº¦ã€‚è®ºç¾å‰§çš„ç¼–å‰§çš„é‡è¦æ€§(ç¬‘)ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆæ¬¡é‚‚é€…&#34;&gt;åˆæ¬¡é‚‚é€…&lt;/h2&gt;

&lt;p&gt;åˆæ—¶ fastlane çš„æ—¶å€™æ˜¯å»å¹´çš„ 11 æœˆä»½ï¼Œçœ‹åˆ°å¤§å°±æ„Ÿè§‰é‡åˆ°äº†ç¥å™¨ä¸€èˆ¬çš„æƒŠå–œã€‚å®ƒä¸€ä¸ªé’ˆå¯¹äº iOS å’Œ Androidï¼ˆåæ¥æ‰æ”¯æŒçš„ï¼‰å…¨æ–¹ä½è‡ªåŠ¨åŒ–æµç¨‹çš„å·¥å…·ï¼Œè¯·çœ‹ä¸‹å›¾&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://fastlane.tools/assets/img/intro-fastlane-tree.png&#34; alt=&#34;fastlane-flow&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æµç¨‹å›¾ä¸­æ¯ä¸ªç¯èŠ‚éƒ½æ˜¯ç‹¬ç«‹çš„å·¥å…·ï¼Œæ¯ä¸ªå·¥å…·åªå¹²ä¸€ä»¶äº‹æƒ…ï¼Œåˆ†å·¥éå¸¸çš„æ˜ç¡®ã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨å›¢é˜Ÿé¡¹ç›®ä¸­ç”¨åˆ°çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/scan&#34;&gt;scan&lt;/a&gt; è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œå¾ˆå¥½çš„å°è£…äº† Unit Test&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/sigh&#34;&gt;sigh&lt;/a&gt; é’ˆå¯¹äº iOS é¡¹ç›®å¼€å‘è¯ä¹¦å’Œ Provision file çš„ä¸‹è½½å·¥å…·&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/match&#34;&gt;match&lt;/a&gt; åŒæ­¥å›¢é˜Ÿæ¯ä¸ªäººçš„è¯ä¹¦å’Œ Provision file çš„è¶…èµå·¥å…·ï¼Œè§„èŒƒ&lt;a href=&#34;https://codesigning.guide/&#34;&gt;ä»£ç ç­¾å&lt;/a&gt;ï¼ˆè™½ç„¶é‡Œé¢æœ‰äº›è®¾å®šæ¯”è¾ƒæŸï¼‰&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/gym&#34;&gt;gym&lt;/a&gt; é’ˆå¯¹äº iOS æ‰“åŒ…å’Œç­¾åçš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®Œçˆ† &lt;code&gt;xctool&lt;/code&gt;ï¼Œè€Œ &lt;code&gt;shenzhen&lt;/code&gt; ä¹Ÿæ”¾å¼ƒç»´æŠ¤&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/icyleaf/fastlane-qyer&#34;&gt;qyer&lt;/a&gt; å›¢é˜Ÿå®šåˆ¶çš„å·¥å…·ï¼Œç”¨äºæ£€æµ‹åŒ…å’Œä¸Šä¼ åˆ°è‡ªå·±çš„å†…éƒ¨åˆ†å‘å¹³å°&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/fastlane/fastlane&#34;&gt;fastlane&lt;/a&gt; ç®€å•ç†è§£å°±æ˜¯æ§åˆ¶æ•´ä½“æµç¨‹å’Œå®ç°çš„æ¡†æ¶å®¹å™¨&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ©ç”¨ç›®å‰æ”¯æŒçš„å·¥å…·å¯ä»¥åšæ‰€æœ‰åŒ…å«è‡ªåŠ¨åŒ–å’Œå¯æŒç»­åŒ–æ„å»ºçš„æ¯ä¸ªç¯èŠ‚ï¼Œæ¯”å¦‚å•å…ƒæµ‹è¯•ã€æˆªå›¾ã€åˆ†å‘æ¸ é“ã€ä¸Šä¼ å…ƒæ•°æ®å’Œ ipa åŒ…æäº¤å®¡æ ¸ç­‰ç­‰ã€‚çœ‹åˆ°è¿™è¿™äº›æ˜¯ä¸æ˜¯å¾ˆå…´å¥‹ï¼Ÿ
åæ­£æˆ‘çœ‹åˆ°ä¹‹åå°±åƒé»‘å¤œçœ‹åˆ°äº†å…‰æ˜ï¼Œæœæ–­æŠ›å¼ƒè‡ªå·±ç»´æŠ¤çš„è„šæœ¬ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬æ„æˆ&#34;&gt;åŸºæœ¬æ„æˆ&lt;/h2&gt;

&lt;p&gt;Fastlane æä¾›çš„æµç¨‹çš„ä¼—å¤šå·¥å…·éƒ½æ˜¯å¯ä»¥ç‹¬ç«‹å­˜åœ¨å’Œä½¿ç”¨ï¼ˆæä¾› cli å‘½ä»¤ï¼‰ï¼Œä¹Ÿå¯ä»¥ç»Ÿä¸€ç”± fastlane æ¥æ§åˆ¶ã€‚å®ƒåœ¨ä½¿ç”¨ä¸­æå‡ºäº†ä¸¤ä¸ªæ¦‚å¿µï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;action&lt;/code&gt;: Fastlane çš„æ’ä»¶ï¼Œæˆªè‡³å½“å‰å†…ç½® 165 ä¸ªè‡³å¤šï¼Œä¸è¿‡æ¯ä¸ªåŠ¨ä½œçš„é¢—ç²’åº¦å¤§å°ä¸ä¸€ã€‚&lt;a href=&#34;https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Actions.md&#34;&gt;æŸ¥çœ‹è¯¦æƒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lane&lt;/code&gt;: Fastlane çš„ä»»åŠ¡ï¼ˆæˆ–è€…å¯ä»¥ç†è§£ä¸ºå‘½ä»¤ï¼‰ï¼Œä¸€ä¸ªå¯ä»¥åŒ…å«å¤šä¸ª lanesï¼Œé€šè¿‡ &lt;code&gt;fastlane&lt;/code&gt; cli ä¼ å…¥åˆ¶å®šçš„ lane æ¥æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…‰è¯´ä¸å¹²å‡æŠŠå¼ï¼Œçœ‹æ³•å®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;lane :adhoc do
  # build version è‡ªåŠ¨åŠ ä¸€
  increment_build_number
  # æ‰§è¡Œ pod install
  cocoapods
  # è°ƒç”¨ facebook çš„ xctool è¿›è¡Œå•å…ƒæµ‹è¯•
  xctool
  # å¯¹æ¨¡æ‹Ÿå™¨è¿è¡Œçš„ App è¿›è¡Œæˆªå›¾
  snapshot
  # å®‰è£…å›¢é˜Ÿè¯ä¹¦å’Œ profiles
  match
  # ä¸Šä¼  App å…ƒæ•°æ®å’Œç­¾åçš„ ipa åˆ° iTunes Conneects
  deliver
  # æŠŠæˆªå›¾å¥—è¿›ä¸€ä¸ªè®¾å¤‡å¤–å£³
  frameit
  # å…è®¸è‡ªå®šä¹‰çš„è„šæœ¬æ–‡ä»¶
  sh &amp;quot;./customScript.sh&amp;quot;
  # å‘æ¶ˆæ¯åˆ° slack
  slack
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;

&lt;p&gt;å·¥å…·çš„èµ·æºæœ¬èº«æ˜¯ä¸“é—¨é’ˆå¯¹ iOS é¡¹ç›®ï¼Œå› æ­¤ç›®å‰ä¾èµ–äº macOS 10.9 ä»¥ä¸Šç³»ç»Ÿï¼ŒRuby æ˜¯ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„è½®å­å‘æ˜è€…ï¼Œå¾ˆå¤šçŸ¥åçš„å·¥å…·éƒ½æ˜¯å®ƒå¼€å‘çš„ï¼Œfastlane ä¹Ÿä¸ä¾‹å¤–ã€‚ä»¥ä¸‹æ˜¯ä¾èµ–ç¯å¢ƒï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;macOS 10.9+&lt;/li&gt;
&lt;li&gt;Ruby 2.0+ (æ¨è rvm æˆ– rbenv å®‰è£…)&lt;/li&gt;
&lt;li&gt;Xcode + command line tools&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸Šä¾èµ–é…ç½®å¥½ä¹‹åå°±å¯ä»¥é€šè¿‡ rubygem è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ [sudo] gem install fastlane
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;fastlane é»˜è®¤ä¼šæŠŠæ ¸å¿ƒå·¥å…·éƒ½ä¼šè¿›è¡Œå®‰è£…ï¼Œéœ€è¦å¤§å®¶è€å¿ƒç­‰å¾…ä¸€ä¼š&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;åˆå§‹åŒ–&#34;&gt;åˆå§‹åŒ–&lt;/h2&gt;

&lt;p&gt;æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åˆå§‹åŒ–ï¼Œä¸€ç§æ˜¯é€šè¿‡å‘½ä»¤ï¼Œä¸€ç§æ˜¯è‡ªå·±åˆ›å»ºæŒ‡å®šçš„ï¼ˆè‡³å°‘åŒ…å«ä¸€ä¸ªï¼‰çº¦æŸæ–‡ä»¶ &lt;code&gt;Fastfile&lt;/code&gt;ã€‚é¦–å…ˆæˆ‘å…ˆä»‹ç»å¤§å®¶ä½¿ç”¨å‘½ä»¤åˆå§‹åŒ–:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# åˆ‡æ¢åªä½ å¼€å‘çš„ iOS é¡¹ç›®æ ¹ç›®å½•
$ cd to/your/ios/project
$ fastlane init
[11:46:34]: Detected iOS/Mac project in current directory...
[11:46:34]: This setup will help you get up and running in no time.
[11:46:34]: fastlane will check what tools you&#39;re already using and set up
[11:46:34]: the tool automatically for you. Have fun!
[11:46:34]: Created new folder &#39;./fastlane&#39;.
...
Your Apple ID (e.g. fastlane@krausefx.com): xxx@gmail.com
[11:46:59]: Verifying if app is available on the Apple Developer Portal and iTunes Connect...
[11:46:59]: Starting login with user &#39;xxx@gmail.com&#39;
Multiple teams found on the Developer Portal, please enter the number of the team you want to use:
1) XXXXXXXXXX &amp;quot;XXXXXXXXXX&amp;quot; (In-House)
2) YYYYYYYYYY &amp;quot;YYYYYYYYYY&amp;quot; (Company/Organization)
+----------------+----------------------------------------------------------------------------+
|                                       Detected Values                                       |
+----------------+----------------------------------------------------------------------------+
| Apple ID       | xxx@gmail.com                                                              |
| App Name       | Hello Fastlane                                                             |
| App Identifier | com.icyleaf.demo.HelloFastlane                                             |
| Workspace      | /Users/icyleaf/Development/iOS/HelloFastlane.xcworkspace                   |
+----------------+----------------------------------------------------------------------------+

[11:48:36]: This app identifier doesn&#39;t exist on iTunes Connect yet, it will be created for you
Please confirm the above values (y/n) n
App Identifier (com.krausefx.app): com.icyleaf.demo.HelloFastlane
[11:50:04]: Created new file &#39;./fastlane/Appfile&#39;. Edit it to manage your preferred app metadata information.
Optional: The scheme name of your app (If you don&#39;t need one, just hit Enter): AppDemo
[11:50:40]: &#39;snapshot&#39; not enabled.
[11:50:40]: &#39;cocoapods&#39; enabled.
[11:50:40]: &#39;carthage&#39; not enabled.
[11:50:40]: Created new file &#39;./fastlane/Fastfile&#39;. Edit it to manage your own deployment lanes.
[11:50:40]: fastlane will send the number of errors for each action to
[11:50:40]: https://github.com/fastlane/enhancer to detect integration issues
[11:50:40]: No sensitive/private information will be uploaded
[11:50:40]: Successfully finished setting up fastlane
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™éƒ¨åˆ†ä¼šè¿›è¡Œè”ç½‘ï¼Œå¹¶æç¤ºè¾“å…¥ä½ çš„ Apple ID æ¥éªŒè¯ä½ çš„åº”ç”¨æ˜¯å¦å­˜åœ¨ï¼ˆæ²¡æœ‰ä¹Ÿä¼šå¸®ä½ è‡ªåŠ¨åˆ›å»ºï¼‰å¹¶è·å–ç›¸åº”çš„å…³é”®ä¿¡æ¯ï¼Œé€šè¿‡ä¸€ç³»åˆ—çš„æµç¨‹ä¸‹æ¥æŠŠè·å–çš„ä¿¡æ¯ä¼šåˆ›å»ºä¸€ä¸ª &lt;code&gt;fastlane&lt;/code&gt; ç›®å½•
å¹¶å¹¶å†™å…¥ç›¸åº”çš„æ–‡ä»¶ï¼ˆå¦‚æœæŸäº›ä¿¡æ¯æ²¡æœ‰å¡«å†™ä¼šå¿½ç•¥æŸäº›æ–‡ä»¶çš„ç”Ÿæˆï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Fastfile&lt;/code&gt;: æ ¸å¿ƒæ–‡ä»¶ï¼Œä¸»è¦ç”¨äº cli è°ƒç”¨å’Œå¤„ç†å…·ä½“çš„æµç¨‹ï¼Œ&lt;a href=&#34;https://github.com/fastlane/fastlane/tree/master/fastlane/docs#fastfile&#34;&gt;äº†è§£è¯¦æƒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Appfile&lt;/code&gt;: ä» Apple Developer Portal è·å–å’Œé¡¹ç›®ç›¸å…³çš„ä¿¡æ¯ï¼Œ&lt;a href=&#34;https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Appfile.md&#34;&gt;äº†è§£è¯¦æƒ…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Deliverfile&lt;/code&gt;: ä» iTunes Connect è·å–å’Œé¡¹ç›®ç›¸å…³çš„ä¿¡æ¯ï¼Œ&lt;a href=&#34;https://github.com/fastlane/fastlane/blob/master/deliver/Deliverfile.md&#34;&gt;äº†è§£è¯¦æƒ…&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æŠ›å¼€å…¶ä»–çš„å‡ ä¸ªæ–‡ä»¶å…ˆä¸è¯´ï¼Œå¤§å®¶å…ˆæŠŠæ³¨æ„åŠ›æ”¾åˆ°åˆšåˆ›å»ºå¥½çš„ &lt;code&gt;Fastfile&lt;/code&gt; æ–‡ä»¶ä¸Šé¢ï¼ˆå¯èƒ½æœ‰å˜åŒ–ï¼Œä»…ä½œå‚è€ƒï¼‰ï¼Œå¦‚æœå¤§å®¶å¯¹ Ruby æœ‰äº†è§£çš„è¯ï¼Œå®ƒå®šä¹‰çš„ DSL è¯­è¨€éå¸¸ç±»ä¼¼ &lt;a href=&#34;https://github.com/ruby/rake&#34;&gt;rake&lt;/a&gt;ï¼Œä½†æµç¨‹ä¸Šæœ‰å‚è€ƒçš„ &lt;a href=&#34;https://github.com/rspec/rspec&#34;&gt;rspec&lt;/a&gt;ï¼Œä¸€æ—¦ä¸æ»¡è¶³éœ€æ±‚è¿˜å¯ä»¥ä½¿ç”¨ Ruby ä»£ç æ¥å®ç°ã€‚å•å‡­ DSL è¯­è¨€æ¥è¯´å°±ç®—å¯¹äº Ruby æ²¡æœ‰åŸºç¡€çš„ä¹Ÿèƒ½å¾ˆå¿«æŒæ¡ï¼Œå¤§å¤šéƒ½æ˜¯æ¯”è¾ƒç®€å•æ˜“æ‡‚çš„è¯­æ³•ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# Customise this file, documentation can be found here:
# https://github.com/fastlane/fastlane/tree/master/fastlane/docs
# All available actions: https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Actions.md
# can also be listed using the `fastlane actions` command

# Change the syntax highlighting to Ruby
# All lines starting with a # are ignored when running `fastlane`

# If you want to automatically update fastlane if a new version is available:
# update_fastlane

# This is the minimum version number required.
# Update this, if you use features of a newer version
fastlane_version &amp;quot;1.95.0&amp;quot;

default_platform :ios

platform :ios do
  # æ‰§è¡Œæ‰€æœ‰å‘½ä»¤å‰éƒ½ä¼šå…ˆæ‰§è¡Œè¿™é‡Œ
  before_all do
    # ENV[&amp;quot;SLACK_URL&amp;quot;] = &amp;quot;https://hooks.slack.com/services/...&amp;quot;
    cocoapods
  end

  desc &amp;quot;Runs all the tests&amp;quot;
  lane :test do
    scan
  end

  desc &amp;quot;Submit a new Beta Build to Apple TestFlight&amp;quot;
  desc &amp;quot;This will also make sure the profile is up to date&amp;quot;
  lane :beta do
    # match(type: &amp;quot;appstore&amp;quot;) # more information: https://codesigning.guide
    gym(scheme: &amp;quot;AppDemo&amp;quot;) # Build your app - more options available
    pilot

    # sh &amp;quot;your_script.sh&amp;quot;
    # You can also use other beta testing services here (run `fastlane actions`)
  end

  desc &amp;quot;Deploy a new version to the App Store&amp;quot;
  lane :appstore do
    # match(type: &amp;quot;appstore&amp;quot;)
    # snapshot
    gym(scheme: &amp;quot;AppDemo&amp;quot;) # Build your app - more options available
    deliver(force: true)
    # frameit
  end

  # ä½ å¯ä»¥å®šä¹‰å±äºè‡ªå·±çš„ laneï¼ˆä»»åŠ¡ï¼‰
  lane :hello do
    puts &amp;quot;hello world&amp;quot;
  end

  # ä»…å½“ä¸Šè¿°æµç¨‹å…¨éƒ¨æ‰§è¡ŒæˆåŠŸåæ‰ä¼šèµ°è¿™é‡Œã€‚å…¶å®åº”è¯¥å®šä¹‰ä¸º after_success
  after_all do |lane|
    # slack(
    #   message: &amp;quot;Successfully deployed new App Update.&amp;quot;
    # )
  end

  # å¦‚æœæµç¨‹å‘ç”Ÿå¼‚å¸¸ä¼šèµ°è¿™é‡Œå¹¶ç»ˆæ­¢
  error do |lane, exception|
    # slack(
    #   message: exception.message,
    #   success: false
    # )
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„æ³¨è§£ï¼Œæˆ‘æƒ³å¤§å®¶å¯¹å®ƒå·²ç»æœ‰äº†åˆæ­¥çš„äº†è§£ï¼Œé‚£ä¹ˆå®šä¹‰å®Œä¹‹åè¯¥å¦‚ä½•æ‰§è¡Œå‘¢ï¼Ÿå›åˆ°åˆšæ‰çš„ç»ˆç«¯ï¼ˆå…³é—­äº†ï¼Ÿé‚£å†åˆ‡æ¢åˆ°åˆšæ‰çš„ iOS é¡¹ç›®çš„æ ¹ç›®å½•ï¼‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ fastlane ios hello
[11:56:24]: -------------------------------------------------
[11:56:24]: --- Step: Verifying required fastlane version ---
[11:56:24]: -------------------------------------------------
[11:56:24]: fastlane version valid
[11:56:24]: ------------------------------
[11:56:24]: --- Step: default_platform ---
[11:56:24]: ------------------------------
[11:56:24]: Driving the lane &#39;ios hello&#39; ğŸš€
[11:56:24]: -----------------------
[11:56:24]: --- Step: cocoapods ---
[11:56:24]: -----------------------
[11:56:24]: $ pod install
...
[11:56:28]: hello world

+------+-------------------------------------+-------------+
|                     fastlane summary                     |
+------+-------------------------------------+-------------+
| Step | Action                              | Time (in s) |
+------+-------------------------------------+-------------+
| 1    | Verifying required fastlane version | 0           |
| 2    | default_platform                    | 0           |
| 3    | cocoapods                           | 4           |
+------+-------------------------------------+-------------+

[11:56:28]: fastlane.tools finished successfully ğŸ‰
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å“’å“’ï¼ä¸€ä¸ªç®€å•çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼&lt;/p&gt;

&lt;p&gt;å¦‚æœå¤§å®¶æ³¨æ„è§‚å¯Ÿä¸Šé¢çš„æ–‡ä»¶å¯èƒ½æ³¨æ„åˆ°ä¸€äº›å°ç»†èŠ‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;# è‡ªåŠ¨æ›´æ–° fastlane å·¥å…·ï¼Œéœ€è¦ rubygems &amp;gt;= 2.1.0
update_fastlane

# æœ€ä½å…¼å®¹ç‰ˆæœ¬ï¼Œç”±äº fastlane è¿˜æ˜¯é€æ­¥å¥å£®çš„é˜¶æ®µæ›´æ–°é€Ÿåº¦è¿˜æ˜¯è›®å¿«çš„ï¼Œ
# ä¸ºäº†é˜²æ­¢æ–°ç‰¹æ€§åœ¨æ—§ç‰ˆæœ¬çš„ä¸æ”¯æŒä¼šå¼ºåˆ¶è®¾ç½®ä¸€ä¸ªæœ€ä½å…¼å®¹ç‰ˆæœ¬
# ä¸è¿‡å·¥å…·ç‰¹åˆ«è´´å¿ƒçš„ä¼šåœ¨æ¯æ¬¡æ‰§è¡Œä¹‹åä¼šæ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ä¼šåœ¨æœ€åæœ«å°¾è¿½åŠ æ–°ç‰ˆæœ¬æé†’
fastlane_version &amp;quot;1.95.0&amp;quot;

# é»˜è®¤ä½¿ç”¨å¹³å°æ˜¯ iosï¼Œä¹Ÿå°±æ˜¯è¯´æ–‡ä»¶å¯ä»¥å®šä¹‰å¤šä¸ªå¹³å°ï¼Œ
# é€šè¿‡ä¸Šè¿°æ‰§è¡Œçš„å‘½ä»¤ä¹Ÿèƒ½çœ‹å‡ºæ¥æ˜¯æ‰§è¡Œçš„ ios å¹³å°ä¸‹é¢çš„ hello ä»»åŠ¡ã€‚
# è¿™ä¸ªçš„ä½œç”¨æ˜¯å¯ä»¥åœ¨æ‰§è¡Œ fastlane çš„æ—¶å€™çœç•¥ iosï¼Œä¸ä¿¡ä½ æ‰§è¡Œ fastlane hello è¯•è¯•ã€‚
default_platform :ios
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;android-çš„æ”¯æŒ&#34;&gt;Android çš„æ”¯æŒ&lt;/h2&gt;

&lt;p&gt;è¿™ä¸ªçš„æ”¯æŒæˆ‘è§‰å¾—å…³é”®æ˜¯ç¤¾åŒºçš„å‘¼å£°å¤ªå¤§ï¼ŒåŠ ä¸Šè´¡çŒ®è€…çš„çƒ­æƒ…ï¼ˆæˆ‘æäº¤è¿‡è®¸å¤š issues å’Œä¸ªåˆ« PLï¼Œå“åº”éå¸¸çš„è¿…é€Ÿï¼‰å¾ˆå¿«å°±åŠ ä¸Šäº†å…¶æ”¯æŒï¼Œ
ä½†å…·ä½“çš„ç‰¹æ€§ä¸æ˜¯ç‰¹åˆ«å¤šï¼Œä¸»è¦æ˜¯å¯¹äº &lt;code&gt;gradle&lt;/code&gt; çš„å°è£…ï¼Œæˆ‘å…ˆä¸åšå±•å¼€ä»‹ç»ï¼Œå¤§å®¶å¯ä»¥å…ˆçœ‹çœ‹&lt;a href=&#34;https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Android.md&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼Œå¦‚æœåç»­æœ‰ç‰¹åˆ«ä¸æ˜ç™½çš„åœ°æ–¹æˆ‘åœ¨åšå…·ä½“çš„è®²è§£ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå¤©å°±å…ˆå†™åˆ°è¿™é‡Œåç»­æˆ‘ä¼šç»§ç»­æ•´ç†æ›´å¤šçš„ä½¿ç”¨æŒ‡å—å’Œå®æˆ˜èŒƒä¾‹å…±å¤§å®¶å‚è€ƒï¼Œæœ€åç»™å¤§å®¶é™„èµ å®˜æ–¹ç»™å¤§å®¶çš„ä¸€äº›&lt;a href=&#34;https://github.com/fastlane/examples&#34;&gt;èŒƒä¾‹&lt;/a&gt;ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Puma æ›¿æ¢ Unicorn è·‘ Gitlab</title>
      <link>http://icyleaf.com/2014/01/moving-unicorn-to-puma-on-gitlab</link>
      <pubDate>Sun, 26 Jan 2014 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2014/01/moving-unicorn-to-puma-on-gitlab</guid>
      <description>

&lt;p&gt;å‰ç¯‡ä»‹ç»åˆ°å¦‚ä½•åœ¨ã€Š&lt;a href=&#34;http://icyleaf.com/2013/09/how-to-install-gitlab-on-centos/&#34;&gt;CentoOS ä¸Šé¢å®‰è£… Gitlab&lt;/a&gt;ã€‹ä¸€æ–‡ï¼Œgitlab é»˜è®¤ä½¿ç”¨çš„æ˜¯ &lt;code&gt;unicorn&lt;/code&gt; ä½œä¸ºå†…éƒ¨çš„ app serverï¼Œå†ç”¨ &lt;code&gt;nginx&lt;/code&gt; åšä»£ç†è½¬å‘ã€‚ä¹‹å‰æ˜¯åœ¨å…¬å¸å†…éƒ¨æ­å»ºäº†ä¸€ä¸ªå¹³å°ï¼Œç”¨ç€è¿˜ç®—å¯ä»¥ã€‚æœ‰æ‰“ç®—åœ¨ &lt;a href=&#34;https://www.linode.com/?r=66b0730eca572d3e45f083e29b1b3f8781b2a009&#34;&gt;Linode è´­ä¹°çš„ VPS&lt;/a&gt; ä¸Šé¢ï¼Œä½¿ç”¨ &lt;code&gt;unicorn&lt;/code&gt; è·‘æœåŠ¡çš„æ—¶å€™ &lt;code&gt;ruby&lt;/code&gt; çš„è¿›ç¨‹å±…ç„¶å äº† 400-500M å·¦å³ï¼Œå¯¹äº Linode åˆšåˆšå…è´¹å‡çº§ä¹‹åæ‰æœ‰ 1G å†…å­˜çš„ç¯å¢ƒä¸Šï¼Œæˆ‘è¿˜çœŸæœ‰ç‚¹æ”¾å¼ƒå®‰è£…å®ƒçš„æ¬²æœ›ã€‚äºæ˜¯åœ¨æƒ³æ˜¯å¦å¯ä»¥ä½¿ç”¨ &lt;code&gt;puma&lt;/code&gt; æ›¿æ¢æ‰åŸå…ˆçš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;puma&#34;&gt;puma&lt;/h2&gt;

&lt;p&gt;ç®€å•ä»‹ç»ä¸‹ &lt;a href=&#34;http://puma.io/&#34;&gt;&lt;code&gt;puma&lt;/code&gt;&lt;/a&gt;ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”± ruby ç¼–å†™çš„è½¬ä¸º &lt;a href=&#34;http://rack.github.io/&#34;&gt;&lt;code&gt;rack&lt;/code&gt;&lt;/a&gt; è®¾è®¡çš„ app serverï¼Œåœ¨æ€§èƒ½å’Œèµ„æºå æœ‰ä¸Šå´æœ‰æå¤§çš„ä¼˜åŠ¿ï¼ˆä¸‹è¡¨æ•°æ®æ¥è‡ªå®˜æ–¹ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;PUMA - 78 Mb
RAINBOWS! (1X16) - 120 Mb
UNICORN - 1076 Mb
RAINBOWS! (16X32) - 1138 Mb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è€Œä¸”é›†æˆä¹Ÿéå¸¸çš„ç®€å•ï¼Œè‹¥ä½¿ç”¨ rails æˆ–è€… sinatraï¼ˆåŠ padrinoï¼‰éƒ½å·²ç»æ”¯æŒï¼Œç›´æ¥ &lt;code&gt;gem install puma&lt;/code&gt;ï¼Œç„¶åè·‘é»˜è®¤çš„ &lt;code&gt;rails/padrino server&lt;/code&gt; ä¼šè‡ªåŠ¨åŠ è½½ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ•™ç¨‹&#34;&gt;æ•™ç¨‹&lt;/h2&gt;

&lt;p&gt;Okayï¼Œç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œå®˜æ–¹åœ¨æ”¶é›†çš„ &lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-recipes/tree/master&#34;&gt;repices&lt;/a&gt; é‡Œé¢æœ‰å…³äº &lt;code&gt;puma&lt;/code&gt; çš„ä¸€äº›é…ç½®ã€‚ä»–ä»¬ä¹Ÿæ˜¯æ”¶é›†çš„éå®˜æ–¹èµ„æ–™ï¼Œé‡Œé¢çš„èµ„æ–™åªæœ‰å€Ÿé‰´æ„ä¹‰ï¼ŒçœŸæ­£æ‹¿æ¥ç”¨çš„æ—¶å€™å„ç§é—®é¢˜ï¼Œæ‰€ä»¥æ‰æœ‰äº†æœ¬ç¯‡æ–‡å­—ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæ˜¯å…³é—­å¯åŠ¨çš„ &lt;code&gt;gitlab&lt;/code&gt; æœåŠ¡&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ (sudo) service gitlab stop
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…³é—­ä¹‹åï¼Œæ·»åŠ  puma gemï¼Œæ‰“å¼€ &lt;code&gt;Gemfile&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;group :unicorn do
  gem &#39;unicorn&#39;, &#39;~&amp;gt; 4.6.3&#39;
	gem &#39;unicorn-worker-killer&#39;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰¾åˆ°ä¸Šé¢çš„è¿™æ®µ group æ›¿æ¢æˆï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem &#39;puma&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†è€…ä¿®æ”¹ &lt;code&gt;config.ru&lt;/code&gt;ï¼ŒæŠŠä¸‹é¢è¿™æ®µä»£ç åšä¸‹æ›¿æ¢ï¼Œåˆ é™¤ unicorn çš„ä»£ç ï¼ŒåŠ è½½ pumaï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;unless defined?(PhusionPassenger)
  require &#39;unicorn&#39;
  # Unicorn self-process killer
  require &#39;unicorn/worker_killer&#39;
  # Max memory size (RSS) per worker
  use Unicorn::WorkerKiller::Oom, (200 * (1 &amp;lt;&amp;lt; 20)), (250 * (1 &amp;lt;&amp;lt; 20))
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›´æ–°æˆ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;unless defined?(PhusionPassenger)
  require &#39;puma&#39;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ›¿æ¢å®Œæ¯•æ›´æ–° &lt;code&gt;gem&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# mysql æ•°æ®åº“
bundle install --without development test postgres --path vendor/bundle --no-deployment
# postgres æ•°æ®åº“
bundle install --without development test mysql --path vendor/bundle --no-deployment 	
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åè¿˜æœ‰ä¸¤å¤„éœ€è¦ä¿®æ”¹ï¼Œæ·»åŠ  &lt;code&gt;config/puma.rb&lt;/code&gt;ï¼ˆæ›¿ä»£ &lt;code&gt;config/unicorn.rb&lt;/code&gt;ï¼‰ ä»¥åŠæ›¿æ¢ &lt;code&gt;/etc/init.d/gitlab&lt;/code&gt; æœåŠ¡è„šæœ¬ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;config/puma.rb&lt;/code&gt;çš„ä»£ç åœ¨&lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-recipes/blob/master/app-server/puma/puma.rb&#34;&gt;è¿™é‡Œå¯ä»¥ä¸‹è½½&lt;/a&gt;ï¼Œæ— éœ€åšä»»ä½•çš„ä¿®æ”¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;/etc/init.d/gitlab&lt;/code&gt; æœåŠ¡è„šæœ¬ï¼š&lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-recipes/tree/master/init/sysvinit/centos&#34;&gt;CentOS&lt;/a&gt; | &lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-recipes/tree/master/init/sysvinit/debian&#34;&gt;Debian(Ubuntu)&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æœåŠ¡è„šæœ¬éœ€è¦è®¾ç½®ä¸‹æ‰§è¡Œæƒé™ï¼š chmod +x /etc/init.d/gitlab&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€åå¼€å¯æœåŠ¡åº”è¯¥å°±å®Œç¾äº†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ (sudo) service gitlab start
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æˆ‘æƒ³ç”¨-apache-æ€ä¹ˆåŠ&#34;&gt;æˆ‘æƒ³ç”¨ Apache æ€ä¹ˆåŠï¼Ÿ&lt;/h2&gt;

&lt;p&gt;å—¯ï¼Œæˆ‘æ²¡å°è¯•è¿‡ï¼Œå®˜æ–¹æœ‰æä¾›æ”¶é›†çš„èµ„æ–™ï¼Œ&lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-recipes/tree/master/web-server&#34;&gt;è‡ªå·±æŸ¥çœ‹ä¸‹å§&lt;/a&gt;ï¼Œè®°å¾—è¦æ´»å­¦æ´»ç”¨ï¼Œç›´æ¥å¥—è‚¯å®šä¼šå‡ºé—®é¢˜çš„ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åˆè¯† Ruby Gem Guard</title>
      <link>http://icyleaf.com/2014/01/intro-ruby-gem-guard</link>
      <pubDate>Sat, 25 Jan 2014 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2014/01/intro-ruby-gem-guard</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://guardgem.org&#34;&gt;Guard&lt;/a&gt; æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ Web è¾…åŠ©å¼€å‘å·¥å…·ï¼Œå› ä¸ºçœ‹äº† tutsplus ç½‘ç«™çš„ä»‹ç»è§†é¢‘ï¼š&lt;a href=&#34;http://net.tutsplus.com/tutorials/tools-and-tips/guard-is-your-best-friend/&#34;&gt;Guard is your best firend&lt;/a&gt;ã€‚è¿™é‡ŒæŠŠè§†é¢‘çš„ä¸œè¥¿æå–å‡ºæ¥è‡ªæˆ‘æ¶ˆåŒ–ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gem install guard
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®ƒå®é™…çš„å·¥ä½œå°±åƒåå­—é‚£æ ·ï¼Œå®æ—¶å®ˆå«è¿™æŸäº›æ–‡ä»¶å¹¶åšå‡ºå¯¹åº”çš„æ“ä½œï¼Œæœ¬è´¨ä¸Šç›¸å½“äºä¸€ä¸ªæœ‰è¿™ä¸ªæ€æƒ³çš„ç¦å«å…µï¼Œé€šè¿‡æŒ‡æ´¾å‘½ä»¤ï¼ˆå®‰è£…æ‰©å±• gemï¼‰è€Œè´Ÿè´£å®ˆå«å’Œæ‰§è¡Œï¼Œæ¯”å¦‚è§†é¢‘ä¸­æåˆ°çš„ï¼š&lt;/p&gt;

&lt;p&gt;ä¸Šé¢æ˜¯æ¦‚å¿µçš„ç†è§£ï¼Œå®é™…ä¸Šçš„æµç¨‹æ˜¯ï¼Œè®¾å®šä¸€ç³»åˆ—çš„è§„åˆ™ï¼Œè®©ä»–ç›‘æ§æ–‡ä»¶å†…å®¹ï¼ˆä¿®æ”¹æ—¶é—´ï¼‰çš„åŠ¨æ€ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–åˆ™æ ¹æ®ä¸åŒçš„å‘½ä»¤æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“åŸºæœ¬æ“ä½œä¸å†å¤šå°‘ï¼Œå®˜æ–¹ &lt;a href=&#34;https://github.com/guard/guard&#34;&gt;README&lt;/a&gt; å†™çš„éå¸¸è¯¦ç»†ï¼Œæˆ–è€…é€šè¿‡ä¸Šé¢è§†é¢‘ä¹Ÿèƒ½ç†Ÿæ‚‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;guard-sass&#34;&gt;guard-sass&lt;/h2&gt;

&lt;p&gt;ç›‘å¬ &lt;a href=&#34;http://sass-lang.com/&#34;&gt;sass&lt;/a&gt; æ–‡ä»¶å¹¶è½¬æ¢æˆ css æ–‡ä»¶&lt;/p&gt;

&lt;h2 id=&#34;guard-coffeescript&#34;&gt;guard-coffeescript&lt;/h2&gt;

&lt;p&gt;ç›‘å¬ &lt;a href=&#34;http://coffeescript.org/&#34;&gt;coffeescript&lt;/a&gt; æ–‡ä»¶å¹¶è½¬æ¢æˆ js æ–‡ä»¶&lt;/p&gt;

&lt;h2 id=&#34;guard-rspec&#34;&gt;guard-rspec&lt;/h2&gt;

&lt;p&gt;è‡ªåŠ¨è·‘ &lt;a href=&#34;https://github.com/rspec/rspec-core&#34;&gt;rspec&lt;/a&gt; test&lt;/p&gt;

&lt;h2 id=&#34;guard-livereload&#34;&gt;guard-livereload&lt;/h2&gt;

&lt;p&gt;é…åˆæµè§ˆå™¨çš„è¾…åŠ©å·¥å…·ï¼Œåšåˆ°æ— éœ€æ‰‹åŠ¨åˆ·æ–°é¡µé¢å³å¯çœ‹åˆ° html/css/js çš„ä¿®æ”¹å˜åŒ–ï¼Œæµè§ˆå™¨éœ€è¦å®‰è£…é…å¥—æ’ä»¶ã€‚&lt;/p&gt;

&lt;h2 id=&#34;guard-zeus&#34;&gt;guard-zeus&lt;/h2&gt;

&lt;p&gt;è‡ªåŠ¨æ¥ç®¡ &lt;a href=&#34;https://github.com/burke/zeus&#34;&gt;zeus&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;guard-puma&#34;&gt;guard-puma&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://puma.io&#34;&gt;puma&lt;/a&gt; æ˜¯ç›®å‰æ¯”è¾ƒæ–°çš„ä¸€ä¸ª web æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ‰©å±•å¯ä»¥ç›‘å¬é…ç½®å˜åŒ–ä»è€Œè‡ªåŠ¨é‡å¯æœåŠ¡å™¨ã€‚&lt;/p&gt;

&lt;p&gt;å®˜æ–¹åˆ—ä¸¾çš„æ‰€æœ‰æ‰©å±•ï¼š&lt;a href=&#34;https://github.com/guard/guard/wiki/List-of-available-Guards&#34;&gt;List of available Guards&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å­¦ä¹  Ansible &#43; Vagrant</title>
      <link>http://icyleaf.com/2013/12/learning-ansible-and-vagrant</link>
      <pubDate>Sat, 21 Dec 2013 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2013/12/learning-ansible-and-vagrant</guid>
      <description>

&lt;blockquote&gt;
&lt;p&gt;Ansible is a radically simple IT orchestration engine that makes your applications and systems easier to deploy. Avoid writing scripts or custom code to deploy and update your applicationsâ€” automate in a language that approaches plain English, using SSH, with no agents to install on remote systems.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç®€å•æ¥è¯´ &lt;a href=&#34;https://github.com/ansible/ansible&#34;&gt;Ansible&lt;/a&gt; æ˜¯ä¸€ä¸ªæç®€åŒ–çš„åº”ç”¨å’Œç³»ç»Ÿéƒ¨ç½²å·¥å…·ï¼Œç±»ä¼¼ &lt;a href=&#34;https://github.com/puppetlabs/puppet&#34;&gt;Puppet&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/opscode/chef&#34;&gt;Chef&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/saltstack/salt&#34;&gt;SaltStack&lt;/a&gt;ã€‚ç”±äºé»˜è®¤ä½¿ç”¨ &lt;code&gt;ssh&lt;/code&gt; ç®¡ç†æœåŠ¡å™¨ï¼ˆé›†ç¾¤ï¼‰ï¼Œé…ç½®æ–‡ä»¶é‡‡ç”¨ yaml è€Œä¸æ˜¯æŸä¸€ç§ç‰¹å®šè¯­è¨€åˆ¶å®šã€‚æ–¹ä¾¿è‡³æã€‚&lt;/p&gt;

&lt;p&gt;å¾ˆå¤šäººè¯´ salt ä¹Ÿå¾ˆç”¨çš„ï¼Œä¸ºä»€ä¹ˆä¸è€ƒè™‘å‘¢ï¼Œæˆ‘ä¸ªäººè§‰å¾—ï¼Œansible çš„é…ç½®æ–‡ä»¶ç¼–å†™èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸éœ€è¦ä½¿ç”¨ &lt;a href=&#34;http://jinja.pocoo.org/&#34;&gt;jinja2&lt;/a&gt; æ¨¡æ¿å¼•æ“é€‚åˆé &lt;code&gt;python&lt;/code&gt; ç”¨æˆ·ç®¡ç†ã€‚è€Œä¸”æˆ‘ä¹Ÿè¾ƒåŒæ„ &amp;ldquo;&lt;a href=&#34;http://missingm.co/2013/06/ansible-and-salt-a-detailed-comparison/&#34;&gt;Ansible and Salt: A detailed comparison&lt;/a&gt;&amp;rdquo; æ–‡ç« çš„è¯„æµ‹ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºä¸ªäººä¹‹å‰æ²¡ç”¨è¿‡ä»»ä½•å…¶ä»–å·¥å…·ï¼Œè‡³äºä½ æƒ³çŸ¥é“ä¸Šé¢å“ªäº›ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«çš„è¯ï¼Œå‚è§æ­¤æ–‡ï¼š&lt;a href=&#34;http://www.infoworld.com/d/data-center/review-puppet-vs-chef-vs-ansible-vs-salt-231308?page=0,0&#34;&gt;Review: Puppet vs. Chef vs. Ansible vs. Salt&lt;/a&gt; æˆ– &amp;ldquo;&lt;a href=&#34;http://ttyn.me/2013/02/19/ansible_intro.html&#34;&gt;å¼€å§‹ä½¿ç”¨é…ç½®å’Œå‘å¸ƒç®¡ç†&lt;/a&gt;&amp;rdquo; ä¸€æ–‡ä¸­ä¹Ÿæœ‰æåˆ°å…¶ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;h1 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h1&gt;

&lt;p&gt;å¤§å®¶ç§»æ­¥ LinuxToy çš„ &lt;a href=&#34;https://linuxtoy.org/archives/hands-on-with-ansible.html&#34;&gt;Ansible å¿«é€Ÿä¸Šæ‰‹&lt;/a&gt; ä¸€æ–‡ï¼Œä»¥åŠ &lt;a href=&#34;http://gogojimmy.net/2013/05/26/vagrant-tutorial/&#34;&gt;ä½¿ç”¨Vagrantç·´ç¿’ç’°å¢ƒä½ˆç½²&lt;/a&gt; ä½œä¸ºå­¦ä¹ é“ºå«ï¼Œæˆ‘å°±ä¸å†å¤šå†™ã€‚è¿™é‡Œæˆ‘æƒ³é‡ç‚¹ä»‹ç»ä¸‹ Ansible + Vagrant é…åˆä½¿ç”¨æŠ€å·§ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å…¶å®ä¸Šé¢ &amp;ldquo;ä½¿ç”¨Vagrantç·´ç¿’ç’°å¢ƒä½ˆç½²&amp;rdquo; æåˆ°çš„é…ç½®æ–‡ä»¶æ˜¯ Vagrantfile config version = 1 æ—¶å€™çš„ï¼Œå½“å‰ vagrant ç‰ˆæœ¬æ˜¯ 1.4.1ï¼Œ Vagrantfile config version = 2ï¼Œå› æ­¤é…ç½®çš„éƒ¨åˆ†å·²ç»æœ‰æ‰€å˜åŠ¨ã€‚å¤§å®¶éœ€è¦åšä¸‹æ›´æ–°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Vagrant 1.4.0+ï¼Œå·¥å…·å·²ç»å®Œå…¨é›†æˆäº†ä¸Šè¿°çš„ DevOps å·¥å…·ï¼ˆç”šè‡³ Dockerï¼Œå¦å¤–ä¸€ç¥å™¨ï¼Œåç»­çœ‹çœ‹èƒ½å¦ç»™ä¸ªä»‹ç»ï¼‰ã€‚é»˜è®¤é…ç½®æ–‡ä»¶åªåŒ…å«äº† Puppet å’Œ Chefï¼Œå¤§å®¶éœ€è¦çœ‹&lt;a href=&#34;http://docs.vagrantup.com/v2/provisioning/index.html&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ æ˜¯ Mac OS ç”¨æˆ·ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;brew&lt;/code&gt; å’Œ &lt;code&gt;brew-cask&lt;/code&gt; å‘½ä»¤å®‰è£…ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ brew update
$ brew install ansible
$ brew cask install vagrant
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;åˆ›å»º-vagrant-å®ä¾‹&#34;&gt;åˆ›å»º Vagrant å®ä¾‹&lt;/h1&gt;

&lt;p&gt;é¦–å…ˆåˆ›å»ºå­¦ä¹ ç›®å½•(&lt;code&gt;~/src/learn_ansible&lt;/code&gt;)å’Œä¸€ä¸ªå®ä¾‹ï¼Œé‡‡ç”¨ CentOS 6.5 x64 ç³»ç»Ÿï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vagrant init centos65 https://github.com/2creatives/vagrant-centos/releases/download/v6.5.1/centos65-x86_64-20131205.box
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‹è½½å®Œæ¯•ä¹‹åï¼Œç¼–è¾‘ &lt;code&gt;Vagrantfile&lt;/code&gt; æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;config.vm.network :private_network, ip: &amp;quot;33.33.33.10&amp;quot;
config.vm.provision :ansible do |ansible|

ansible.inventory_path = &amp;quot;ansbile/hosts&amp;quot;
	ansible.playbook = &amp;quot;ansbile/playbook.yml&amp;quot;

	# é»˜è®¤ä½¿ç”¨ sudo æƒé™
	ansible.sudo = true
	# å¼€å¯è°ƒè¯•ä¿¡æ¯æ¨¡å¼
	ansible.verbose = &#39;vvv&#39;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¹¶åœ¨å­¦ä¹ ç›®å½•åˆ›å»º &lt;code&gt;ansible&lt;/code&gt; ç›®å½•ä»¥åŠä¸‹é¢ä¸¤ä¸ªæ–‡ä»¶ï¼Œç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ tree
.
â”œâ”€â”€ Vagrantfile
â””â”€â”€ ansible
    â”œâ”€â”€ hosts
    â””â”€â”€ playbook.yml
1 directory, 3 files

`hosts` æ–‡ä»¶å†…å®¹ï¼Œip åœ°å€å’Œä¸Šé¢ `Vagrantfile` è®¾ç½®çš„ä¸€è‡´ï¼š

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;[webserver]
33.33.33.10&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
`playbook.yml` æ–‡ä»¶å†…å®¹ï¼š

&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;ansbile-çš„é…ç½®æ–‡ä»¶-è¿™é‡ŒæŒ‡å®šåªä½œç”¨äº-webserver-æœåŠ¡å™¨&#34;&gt;ansbile çš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡ŒæŒ‡å®šåªä½œç”¨äº webserver æœåŠ¡å™¨&lt;/h1&gt;

&lt;h1 id=&#34;ä½¿ç”¨-vagrant-çš„-sudu-æƒé™æ‰§è¡Œä»»åŠ¡&#34;&gt;ä½¿ç”¨ vagrant çš„ sudu æƒé™æ‰§è¡Œä»»åŠ¡&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;hosts: webserver
user: vagrant
sudo: yes
tasks:&lt;/p&gt;

&lt;h1 id=&#34;ä»»åŠ¡åªæœ‰ä¸€ä¸ª-å°±æ˜¯å®‰è£…-nginx&#34;&gt;ä»»åŠ¡åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å®‰è£… nginx&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;name: Install Nginx
yum: name=nginx state=present
```&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;è¿æ¥-éƒ¨ç½²&#34;&gt;è¿æ¥ &amp;amp; éƒ¨ç½²&lt;/h1&gt;

&lt;p&gt;ä½¿ç”¨ Vagrant çš„å¥½å¤„åœ¨äºï¼Œå®ƒé›†æˆäº†è¿™äº›å·¥å…·ï¼Œå¹¶é€šè¿‡ &lt;code&gt;vagrant provision&lt;/code&gt; è¿™ä¸ªå‘½ä»¤å°±èƒ½è¿æ¥æœåŠ¡å™¨å¹¶éƒ¨ç½²ã€‚è¿™é‡Œæˆ‘æƒ³è®©å¤§å®¶å­¦ä¹ åˆ°å¦‚ä½•é€šè¿‡ä¼ ç»Ÿ ssh é“¾æ¥ vagrant è™šæ‹Ÿæœºçš„æ–¹æ³•ï¼š&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„é…ç½®æ–‡ä»¶æˆ‘ä»¬å¾—çŸ¥ï¼ŒæœåŠ¡å™¨çš„ ip æ˜¯ &lt;code&gt;33.33.33.10&lt;/code&gt; è€Œä¸”é»˜è®¤ç™»å½•åˆ°è™šæ‹Ÿæœºä¸Šçš„ç”¨æˆ·æ˜¯ vagrantï¼ˆå¯†ç ä¹Ÿæ˜¯ç”¨æˆ·åï¼‰ï¼Œé“¾æ¥ç«¯å£æ˜¯ 22ã€‚æˆ‘ä»¬å…ˆæ‹·è´ ssh public key åˆ°æœåŠ¡å™¨ä¸Šï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh-copy-id vagrant@33.33.33.10
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ansible -u vagrant -i ansible/hosts all -m ping

webserver | success &amp;gt;&amp;gt; {
    &amp;quot;changed&amp;quot;: false,
    &amp;quot;ping&amp;quot;: &amp;quot;pong&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”å› &lt;code&gt;ping: pong&lt;/code&gt; å³ä¸ºè¿æ¥æˆåŠŸå¹¶å¯ä»¥è¿›è¡Œéƒ¨ç½²ã€‚è‹¥ä½ ä¹‹å‰æ‰§è¡Œäº† &lt;code&gt;vagrant provision&lt;/code&gt; å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ &lt;code&gt;playbook.yml&lt;/code&gt; çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå¤©åˆæ¢å°±åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›é€šè¿‡æœ¬ç¯‡æ–‡å­—å¤§å®¶å¯¹å®ƒæœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ActiveRecord ä½¿ç”¨ç§˜ç¬ˆ</title>
      <link>http://icyleaf.com/2013/12/activerecord-tips</link>
      <pubDate>Tue, 03 Dec 2013 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2013/12/activerecord-tips</guid>
      <description>

&lt;p&gt;ActiveRecord æ˜¯ Rails å†…ç½®çš„ ORM æ¡†æ¶ï¼Œå¤§å¤šæ•°äººå­¦ä¹  Ruby éƒ½æ˜¯ä» rails å¼€å§‹ï¼Œæ¥è§¦çš„ä¹Ÿæ˜¯è¿™ä¸ª ORMï¼Œå› æ­¤å°±æœ‰äº†è¿™ä¸ªä½¿ç”¨ç§˜ç¬ˆã€‚&lt;/p&gt;

&lt;h1 id=&#34;æ”¯æŒ-rake-db-xxx-å‘½ä»¤&#34;&gt;æ”¯æŒ &lt;code&gt;rake db:xxx&lt;/code&gt; å‘½ä»¤&lt;/h1&gt;

&lt;p&gt;åœ¨é rails é¡¹ç›®æ€ä¹ˆè®© rake æ”¯æŒ db:xxx å‘½ä»¤å‘¢ï¼ŸæŠŠå¦‚ä¸‹ä»£ç æ”¾åˆ° &lt;code&gt;Rakefile&lt;/code&gt; ä¸­:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;namespace :db do
  require &#39;activerecord&#39;
  require &#39;yaml&#39;

  desc &amp;quot;åŠ è½½é¡¹ç›®è¡¨æ•°æ®åˆ°æ•°æ®åº“&amp;quot;
  task :init =&amp;gt; :dbenv do
    file = &amp;quot;db/schema.rb&amp;quot;
    load(file) # å‚è€ƒ rails æ–‡ä»¶ç»“æ„
  end

  desc &amp;quot;åˆ›å»ºæ•°æ®åº“åˆå§‹åŒ–æ•°æ®&amp;quot;
  task :seed =&amp;gt; :dbenv do
    seed_file = File.join(File.dirname(__FILE__), &#39;db&#39;, &#39;seeds.rb&#39;)
    load(seed_file) if File.exist?(seed_file)
  end

  desc &amp;quot;åˆå¹¶ db/migrate ç›®å½•ä¸‹çš„æ•°æ®åº“æ–‡ä»¶&amp;quot;
  task :migrate =&amp;gt; :dbenv do
    ActiveRecord::Migration.verbose = ENV[&amp;quot;VERBOSE&amp;quot;] ? ENV[&amp;quot;VERBOSE&amp;quot;] == &amp;quot;true&amp;quot; : true
    ActiveRecord::Migrator.migrate(&amp;quot;db/migrate/&amp;quot;, ENV[&amp;quot;VERSION&amp;quot;] ? ENV[&amp;quot;VERSION&amp;quot;].to_i : nil)
    Rake::Task[&amp;quot;db:schema:dump&amp;quot;].invoke if ActiveRecord::Base.schema_format == :ruby
  end

  desc &#39;è®¾å®š STEP=n å›æ»šä¹‹å‰ç‰ˆæœ¬çš„æ•°æ®åº“ç»“æ„&#39;
  task :rollback =&amp;gt; :dbenv do
    step = ENV[&#39;STEP&#39;] ? ENV[&#39;STEP&#39;].to_i : 1
    ActiveRecord::Migrator.rollback(&#39;db/migrate/&#39;, step)
    Rake::Task[&amp;quot;db:schema:dump&amp;quot;].invoke if ActiveRecord::Base.schema_format == :ruby
  end

  task :dbenv do
    dbname = ENV[&#39;db&#39;] || &#39;development&#39;
  	$dbconfig = YAML::load(&#39;db/database.yml&#39;)
    ActiveRecord::Base.establish_connection($dbconfig[dbname])
  end

  namespace :schema do
    desc &amp;quot;æŠŠæ•°æ®åº“ç»“æ„å†™å…¥ db/schema.rb æ–‡ä»¶&amp;quot;
    task :dump =&amp;gt; :dbenv do
      require &#39;active_record/schema_dumper&#39;
      File.open(ENV[&#39;SCHEMA&#39;] || &amp;quot;db/schema.rb&amp;quot;, &amp;quot;w&amp;quot;) do |file|
        ActiveRecord::SchemaDumper.dump(ActiveRecord::Base.connection, file)
      end
    end
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆå§‹åŒ–æ•°æ®åº“ç»“æ„&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rake db:init
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;æ”¯æŒ-sql-server&#34;&gt;æ”¯æŒ SQL Server&lt;/h1&gt;

&lt;p&gt;åªé’ˆå¯¹ *nix ç³»ç»Ÿï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;å®‰è£… freetds&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;* Mac OS: `brew install freetds`
* CentOS: `yum install -y freetds`
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;gem install tiny_tds&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gem install activerecord-sqlserver-adapter&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¼•ç”¨å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require &#39;tiny_tds&#39;
require &#39;activerecord-sqlserver-adapter&#39;
require &#39;active_record&#39;

ActiveRecord::Base.establish_connection({
  :adapter =&amp;gt; &#39;sqlserver&#39;
 :host =&amp;gt; &#39;10.10.10.10&#39;,
 :username =&amp;gt; &#39;sa&#39;,
  :password =&amp;gt; &#39;p@ssword&#39;,
  :database =&amp;gt; &#39;development&#39;,
  :timeout =&amp;gt; 10,
  :port =&amp;gt; 1433,
})

class Users &amp;lt; ActiveRecord::Base
	self.table_name = &#39;User&#39;
	default_scope { lock(&#39;WITH (NOLOCK)&#39;) }
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;å¤šæ•°æ®åº“æ”¯æŒ&#34;&gt;å¤šæ•°æ®åº“æ”¯æŒ&lt;/h1&gt;

&lt;p&gt;åˆ›å»º &lt;code&gt;config/database.yml&lt;/code&gt; æ–‡ä»¶:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;development:
  adapter: mysql2
  host: localhost
  username: root
  password:
  database: development
  timeout: 10
  port: 3306
test:
  adapter: mysql2
  host: 10.10.10.10
  username: root
  password: p@ssword
  database: test
  timeout: 10
  port: 1433
production:
  adapter: mysql2
  host: 33.33.33.33
  username: root
  password: p@ssword
  database: production
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ›å»º &lt;code&gt;lib/model.rb&lt;/code&gt; æ–‡ä»¶:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$dbconfig = YAML::load(File::open(&#39;config/database.yml&#39;))

class User &amp;lt; ActiveRecord::Base
  establish_connection $dbconfig[&#39;development&#39;]
end

class Post &amp;lt; ActiveRecord::Base
  establish_connection $dbconfig[&#39;test&#39;]
end

class Tag &amp;lt; ActiveRecord::Base
  establish_connection $dbconfig[&#39;production&#39;]
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;åŠ¨æ€åˆ›å»ºè¡¨å&#34;&gt;åŠ¨æ€åˆ›å»ºè¡¨å&lt;/h1&gt;

&lt;p&gt;å‡è‹¥æœ‰ä¸ªéœ€æ±‚éœ€è¦æŒ‰ç…§æ¯æœˆåˆ†è¡¨ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥å®‰è£…ä¸šåŠ¡åˆ†è¡¨ä»€ä¹ˆçš„ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼è°ƒç”¨ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# æ’å…¥ postï¼Œå¦‚æœè¡¨ä¸å­˜åœ¨åˆ™åˆ›å»ºåæ’å…¥
post = Post.date(&#39;201312&#39;).get_or_create_table.create(
  title:&#39;test&#39;,
  content:&#39;body&#39;
)

# Model å®ç°ä»£ç 
class Post &amp;lt; ActiveRecord::Base
  @date = Time.now.strftime(&amp;quot;%Y%02m&amp;quot;)

  def self.date(date)
  	@date = date
  end

  def self.get_or_create_table(params={})
    self.date(params[:date]) if params[:date]
    self.create_table(params) if !self.exists?
  end

  def self.create_table(params={})
    self.date(params[:date]) if params[:date]
    table_name = self.table_name
    ActiveRecord::Schema.define do
      create_table table_name do |table|
        table.column :title, :string
        table.column :content, :text
        table.column :created_at, :datetime
        table.column :updated_at, :datetime
      end
    end

    return self
  end

  def self.table_exists?
    # å¦‚æœä½ è®¾ç½®äº†å¤šæ•°æ®åº“è¯·å–æ¶ˆä¸‹è¡Œæ³¨è§£å¹¶æ›´æ”¹é…ç½®åï¼ˆå‚è€ƒä¸Šä¸ªæŠ€å·§ï¼‰
    # ActiveRecord::Base.establish_connection($dbconfig[&#39;development&#39;])

    ActiveRecord::Base.connection.tables.include?(self.table_name)
  end

  def table_name
    &amp;quot;#{@date_users}&amp;quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>åˆ©ç”¨ argparse å†™çš„è„šæœ¬å‘½ä»¤ï¼šæµ‹è¯• URL å“åº”æ—¶é—´</title>
      <link>http://icyleaf.com/2012/08/url-request-time-test-using-python-with-argparse</link>
      <pubDate>Thu, 02 Aug 2012 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2012/08/url-request-time-test-using-python-with-argparse</guid>
      <description>&lt;p&gt;å‰å‡ å¤©çœ‹å®Œã€Š&lt;a href=&#34;http://woodpecker.org.cn/abyteofpython_cn/chinese/&#34;&gt;Pythonç®€æ˜æ•™ç¨‹&lt;/a&gt;ã€‹ï¼Œé¢„æƒ³ç»ƒæ‰‹ï¼Œæƒ³èµ·åŒäº‹çš„ä¸€ä¸ª ruby ä»£ç ï¼Œå°è¯•æ”¹å†™æˆ pythonï¼Œé¡ºä¾¿çœ‹çœ‹ä¸¤ä¸ªè¯­è¨€çš„ç®€ç»ƒç¨‹åº¦ã€‚ä¸‹é¢æ˜¯åŸå§‹çš„ ruby ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env ruby

require &#39;rubygems&#39;
require &#39;net/http&#39;

urls = [&amp;quot;http://icyleaf.com&amp;quot;]
50.times do
  urls.each do |url|
    start_at = Time.now
    Net::HTTP.get URI.parse(url)
    end_at = Time.now
    diff = end_at - start_at
    if diff &amp;lt; 0.3 then
      color_code = 32
    elsif diff &amp;gt; 0.8 then
      color_code = 31
    else
      color_code = 33
    end
    puts &amp;quot;#{url}\n time: \033[#{color_code}m#{diff}\033[0m seconds&amp;quot;
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ”¹å†™ python çš„åŒæ—¶ï¼Œè€ƒè™‘è„šæœ¬çš„çµæ´»æ€§å‡†å¤‡å¢åŠ ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è¯·æ±‚æµ‹è¯•æ¬¡æ•°ï¼Œç¬¬äºŒä¸ªæ˜¯è¯·æ±‚æµ‹è¯•çš„ URLï¼Œè€Œ python é»˜è®¤æä¾›äº† &lt;a href=&#34;http://docs.python.org/dev/library/argparse.html&#34;&gt;argparse&lt;/a&gt; åº“ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”Ÿæˆ &amp;ndash;help çš„å¸®åŠ©å’Œè§£æä¼ é€’çš„å‚æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python

import urllib2
import time
import sys
import argparse

def benchmark(url, count):
	for i in range(count):
		s = time.time()
		r = urllib2.urlopen(urllib2.Request(url))
		e = time.time()
		diff = e - s

		if diff &amp;lt; 0.3:
			color_code = 32
		elif diff &amp;gt; 0.8:
			color_code = 31
		else:
			color_code = 33

		print &#39;# %d&#39; % (i + 1)
		print &#39;\tStauts: %s&#39; % r.getcode()
		print &#39;\tTime: \033[%dm%f\033[0m second(s)&#39; % (color_code, diff)


def main(argv):
	parser = argparse.ArgumentParser(description=&#39;url request time test&#39;)

	parser.add_argument(&#39;URL&#39;, help=&#39;request url&#39;)
	parser.add_argument(&#39;-t&#39;, &#39;--time&#39;, action=&#39;store&#39;, dest=&#39;count&#39;, type=int, default=10, help=&#39;request times&#39;)
	args = parser.parse_args(argv)

	benchmark(args.URL, args.count)


if __name__ == &#39;__main__&#39;:
	main(sys.argv[1:])
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“ç„¶ï¼Œæˆ‘ä¸»è¦æ˜¯ä¸ºäº†ç»ƒæ‰‹ python æ‰å»å†™çš„ï¼Œruby æœ¬èº«ä¹Ÿæœ‰ &lt;a href=&#34;http://ruby-doc.org/stdlib-1.9.3/libdoc/optparse/rdoc/OptionParser.html&#34;&gt;optparse&lt;/a&gt; åº“ç”¨äºè§£æå‚æ•°ï¼Œä½†æ˜¯éœ€è¦è‡ªå·±æ‰‹å†™ç”Ÿæˆ &amp;ndash;help çš„è¾“å‡ºï¼Œè€Œä¸”éœ€è¦å¯¹æ¯ä¸ªå‚æ•°åšç›¸åº”çš„ callbackã€‚&lt;/p&gt;

&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://ww3.sinaimg.cn/large/65d1d65bgw1dvi5nsc4sdj.jpg&#34; alt=&#34;screenshot&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>