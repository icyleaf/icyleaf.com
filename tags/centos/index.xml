<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Centos on icyleaf</title>
    <link>http://icyleaf.com/tags/centos/index.xml</link>
    <description>Recent content in Centos on icyleaf</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>All rights reserved - 2007</copyright>
    <atom:link href="http://icyleaf.com/tags/centos/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Docker æ‘¸çˆ¬æ»šæ‰“å¯¹æŠ— CentOS 6</title>
      <link>http://icyleaf.com/2016/12/docker-with-centos</link>
      <pubDate>Fri, 30 Dec 2016 17:52:30 +0800</pubDate>
      
      <guid>http://icyleaf.com/2016/12/docker-with-centos</guid>
      <description>

&lt;blockquote&gt;
&lt;p&gt;2018å¹´10æœˆ18æ—¥æ›´æ–°ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å›½åº†æœŸé—´æ°å·§æœåŠ¡å™¨ç¡¬ç›˜æ•…éšœä¸”è¿ç»´å¹¶æ²¡æœ‰åš raid å¤‡ä»½ï¼Œç»™æ›´æ¢äº†ä¸€å°æ–°å†…éƒ¨æœåŠ¡å™¨ï¼Œç´¢æ€§å‡çº§åˆ°äº† CentOS 7ï¼Œå› æ­¤é’ˆå¯¹ CentOS 6 å®‰è£… Docker çš„ç­”ç–‘ä¸å†æ›´æ–°ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;å‰ä¸ä¹…ç»ˆäºæŠŠæˆ‘ä»¬ç§»åŠ¨å›¢é˜Ÿå†…éƒ¨æœåŠ¡å™¨ä» CentOS 5.x å‡çº§åˆ°äº† 6.8ã€‚æœ¬æ¥æ˜¯æ‹œæ‰˜è®©å‡çº§è‡³ 7.0 ç‰ˆæœ¬èµ·ç èƒ½ç”¨ä¸Š docker 1.12 ç‰ˆæœ¬è¿˜æ˜¯é è°±çš„äº‹æƒ…ã€‚
äº‹æƒ…å¾€å¾€éš¾ä»¥é¢„æ–™çš„è¢«å‘ŠçŸ¥å…¶ä»–å›¢é˜Ÿåœ¨å®‰è£… 7.0 ä¹‹åé€ æˆå†…éƒ¨æœåŠ¡å™¨ç¾¤çš„ç½‘å¡å¤±çµçš„è¯¡å¼‚æ•…éšœåªèƒ½ä½œç½¢ï¼Œæƒ³æƒ³èµ·ç è¿˜æœ‰ä¸ªæ—©æœŸ docker ç‰ˆæœ¬å¯å®‰è£…ä¹Ÿå°±å…ˆè¿™ä¹ˆç€å§ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯åœ¨ &lt;a href=&#34;http://icyleaf.com/2013/09/how-to-install-gitlab-on-centos/&#34;&gt;å¦‚ä½•åœ¨CentOS ä¸Šå®‰è£…Gitlab&lt;/a&gt; ä¹‹åæœ‰ä¸€ä¸ªæ— å¥ˆçš„ä½¿ç”¨æŒ‡å—ï¼Œ
å› ä¸ºè¿ç»´ä¹Ÿæœ‰ä»–çš„è€ƒè™‘æ–¹é¢ï¼Œå‚è§çŸ¥ä¹è®¨è®ºï¼š&lt;a href=&#34;https://www.zhihu.com/question/29191794&#34;&gt;å¦‚ä½•è¯´æœè¿ç»´é€‰æ‹© Debian/Ubuntu è€Œä¸æ˜¯ CentOS&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;å®‰è£…-docker&#34;&gt;å®‰è£… Docker&lt;/h2&gt;

&lt;h3 id=&#34;1-7-1&#34;&gt;1.7.1&lt;/h3&gt;

&lt;p&gt;Docker æœ€åä¸€ä¸ªæ”¯æŒ CentOS 6 çš„ç‰ˆæœ¬æ˜¯ 1.7.1 è¿˜å¿…é¡»å®‰è£… epel æºä¹‹åå°±&lt;a href=&#34;https://github.com/docker/docker/issues/14365&#34;&gt;è¢«å¤§å®¶æ¬¢å¤©å–œåœ°çš„æŠ›å¼ƒäº† 6 çš„æ”¯æŒ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo rpm -ivh http://download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
sudo yum -y remove docker
sudo yum install libselinux-python docker-io
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;ç”±äº yum å†… docker å·²ç»è¢«å…¶ä»–ä½¿ç”¨ï¼Œä¸ç”¨å®‰è£…é”™è¯¯äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;1-7-1-ä»¥ä¸Šç‰ˆæœ¬&#34;&gt;1.7.1 ä»¥ä¸Šç‰ˆæœ¬&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;è¯·æœæ–­æ”¾å¼ƒè¿™ç§æƒ³æ³•&lt;/strong&gt;ï¼Œè™½ç„¶ä½ å¯èƒ½åœ¨ç½‘ä¸Šæœç´¢æœ‰ä¸ªåˆ«çš„æ–‡ç« è¯´æŠŠå†…æ ¸å‡çº§åˆ° 3.10 åå¯ä»¥å®‰è£… docker 1.9 ç‰ˆæœ¬ï¼Œç»è¿‡æˆ‘ä¸ªäººåå¤æµ‹è¯•æ ¹æœ¬ä¸å¯è¡Œï¼&lt;/p&gt;

&lt;p&gt;å½“ç„¶å¦‚æœä½ è¿˜æ˜¯åšæŒæƒ³å°è¯•ï¼Œè¯·å‚è€ƒå¦‚ä¸‹é“¾æ¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.pangxie.space/docker/364&#34;&gt;http://www.pangxie.space/docker/364&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.cnblogs.com/dongdongwq/p/5381752.html&#34;&gt;http://www.cnblogs.com/dongdongwq/p/5381752.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://0evin.com/2016/06/17/%5B%E5%8E%9F%E5%88%9B%5DCentOS6.5%E5%AE%89%E8%A3%85Docker1.11.X%E7%89%88%E6%9C%AC/&#34;&gt;http://0evin.com/2016/06/17/%5B%E5%8E%9F%E5%88%9B%5DCentOS6.5%E5%AE%89%E8%A3%85Docker1.11.X%E7%89%88%E6%9C%AC/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;é…ç½®-docker&#34;&gt;é…ç½® Docker&lt;/h2&gt;

&lt;p&gt;å®‰è£…æˆåŠŸåå…ˆä¸è¦é…ç½®å¼€æœºè‡ªå¯åŠ¨å’Œå¯åŠ¨æœåŠ¡ï¼Œdocker çš„å®˜æ–¹é•œåƒåœ¨å›½å†…ä¼—æ‰€å‘¨çŸ¥çš„æ…¢çš„ä¸€å¡Œç³Šæ¶‚ï¼Œå¦‚æœä½ æ˜¯åœ¨å›½å†…æœåŠ¡å™¨ä½¿ç”¨è¯·å‚è€ƒå¦‚ä¸‹é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡ŒæŠŠæˆ‘ä¸ªäººç§è—å·²ä¹…çš„å¥½ç”¨çš„é•œåƒå‘Šè¯‰å¤§å®¶ï¼Œå¤§å®¶å¯ä¸è¦ä»¥ä¸ºæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘æˆ–è€… DaoCloud è¿™ç±»æœ‰å¾ˆå¤šé™åˆ¶çš„ç©æ„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸­å›½ç§‘æŠ€å¤§å­¦é•œåƒï¼š&lt;a href=&#34;https://docker.mirrors.ustc.edu.cn&#34;&gt;https://docker.mirrors.ustc.edu.cn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç½‘æ˜“èœ‚å·¢é•œåƒï¼š&lt;a href=&#34;http://hub-mirror.c.163.com&#34;&gt;http://hub-mirror.c.163.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åŒæ ·éœ€è¦æ³¨æ„çš„æ˜¯ 1.7.1 ç‰ˆæœ¬çš„ docker é…ç½®æ–‡ä»¶æ˜¯åœ¨ &lt;code&gt;/etc/sysconfig/docker&lt;/code&gt; è€Œä¸æ˜¯ç½‘ä¸Šå’Œå®˜æ–¹è¯´çš„ &lt;code&gt;/etc/default/docker&lt;/code&gt; æ‰“å¼€æ­¤æ–‡ä»¶åœ¨ other_args é…ç½®å¯¹äºçš„æºå³å¯ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# /etc/sysconfig/docker
#
# Other arguments to pass to the docker daemon process
# These will be parsed by the sysv initscript and appended
# to the arguments list passed to docker -d

#other_args=
#other_args=&amp;quot;--registry-mirror=http://hub-mirror.c.163.com&amp;quot;
other_args=&amp;quot;--registry-mirror=https://docker.mirrors.ustc.edu.cn&amp;quot;

DOCKER_CERT_PATH=/etc/docker

# Resolves: rhbz#1176302 (docker issue #407)
DOCKER_NOWARN_KERNEL_VERSION=1

# Location used for temporary files, such as those created by
# # docker load and build operations. Default is /var/lib/docker/tmp
# # Can be overriden by setting the following environment variable.
# # DOCKER_TMPDIR=/var/tmp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åé¢å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå¯åŠ¨æœåŠ¡å’Œè®¾ç½®å¼€æœºè‡ªå¯åŠ¨å°±å®Œäº‹äº†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo chkconfig docker on
sudo service docker start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;éªŒè¯ä¸‹å¯åŠ¨çš„æœåŠ¡æ˜¯å¦å·²ç»é…ç½®äº†å›½å†…é•œåƒæº&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ps aux | grep &amp;quot;docker -d&amp;quot;

root     16992  0.1  0.1 1239860 32276 ?       Sl   Dec29   2:02 /usr/bin/docker -d --registry-mirror=https://docker.mirrors.ustc.edu.cn
root     26873  0.0  0.0 103332   876 pts/2    S+   18:16   0:00 grep docker -d
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ç–‘éš¾æ‚ç—‡&#34;&gt;ç–‘éš¾æ‚ç—‡&lt;/h2&gt;

&lt;h4 id=&#34;1-ä½¿ç”¨å›½å†…é•œåƒæº-pull-é•œåƒå¶å°”ä¼šå¤±è´¥-åå¤å‡ æ¬¡å°±å¯ä»¥è§£å†³&#34;&gt;1. ä½¿ç”¨å›½å†…é•œåƒæº pull é•œåƒå¶å°”ä¼šå¤±è´¥ï¼Œåå¤å‡ æ¬¡å°±å¯ä»¥è§£å†³&lt;/h4&gt;

&lt;p&gt;é¢‘æ¬¡ä¸é«˜åŸå› æœªçŸ¥ï¼Œå› æ­¤è¿˜æœªé‡è§†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;2-docker-web-ç®¡ç†å·¥å…·&#34;&gt;2. Docker Web ç®¡ç†å·¥å…·&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;2018å¹´10æœˆæ›´æ–°ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ¨èä½¿ç”¨ &lt;a href=&#34;https://github.com/portainer/portainer&#34;&gt;portainer&lt;/a&gt; ï¼Œå…¼å®¹ 1.7 çš„éƒ¨åˆ†åŠŸèƒ½å¯èƒ½ä¼šå‘ç”Ÿéƒ¨åˆ†åŠŸèƒ½å’Œå‚æ•°æ— æ³•æ˜¾ç¤ºä½†ä¸å½±å“ä½¿ç”¨ã€‚ä¹‹å‰æˆ‘æœ‰æ¨è rancherï¼ˆå¯å‚è€ƒå‰ç¯‡æ–‡ç« ï¼š&lt;a href=&#34;http://icyleaf.com/2016/08/how-to-install-rancher-on-osx/&#34;&gt;å¦‚ä½•åœ¨ OS X ä¸Šå®‰è£… Rancher
&lt;/a&gt;ï¼‰ï¼Œä½† rancher å®˜æ–¹è¦æ±‚ docker æœ€ä½ç‰ˆæœ¬æ˜¯ 1.9+ã€‚&lt;/p&gt;

&lt;h4 id=&#34;3-docker-è¿›ç¨‹æŒ‚äº†é‡å¯åæ— æ³•æ¢å¤ä¹‹å‰çš„-containers&#34;&gt;3. Docker è¿›ç¨‹æŒ‚äº†é‡å¯åæ— æ³•æ¢å¤ä¹‹å‰çš„ containers&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ docker start c39206003c7a
Error: Cannot start container c39206003c7a: Error getting container c39206003c7ae8992a554a9ac2ea130327fc4af1b2c389656c34baf9a56c84b5 from driver devicemapper: Error mounting &#39;/dev/mapper/docker-253:0-267081-c39206003c7ae8992a554a9ac2ea130327fc4af1b2c389656c34baf9a56c84b5&#39; on &#39;/var/lib/docker/devicemapper/mnt/c39206003c7ae8992a554a9ac2ea130327fc4af1b2c389656c34baf9a56c84b5&#39;: device or resource busy
2014/05/08 19:14:57 Error: failed to start one or more containers
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ç§ä¸€èˆ¬æ˜¯å› ä¸ºæ„å¤–ç»ˆæ­¢è¿›ç¨‹é€ æˆä¸Šæ¬¡çš„ volume æ²¡æœ‰æ­£å¸¸ unmountï¼Œåªéœ€æ‰‹åŠ¨æ“ä½œä¸‹å³å¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;unmount /var/lib/docker/devicemapper/mnt/d640aea67108b04c6a5ba14645966b092db1f807f3e3f41dca7a1470f76b68fb
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;d640aea67108b04c6a5ba14645966b092db1f807f3e3f41dca7a1470f76b68fb&lt;/code&gt; æ˜¯æ ¹æ®ä¸åŒ container ç”Ÿæˆçš„ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µå¤åˆ¶å’Œæ‰§è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™ä¸ªçœŸæ²¡åŠæ³•ï¼Œåªèƒ½åœ¨ Dockerfile æˆ–è€…è¿›å®ä¾‹é‡Œé¢è¿›è¡Œä¿®æ”¹æ—¶åŒºï¼Œè¿™ä¸ªæˆ‘å°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚&lt;/p&gt;

&lt;h4 id=&#34;4-å‡çº§è¿è¡Œçš„-container-ç‰ˆæœ¬&#34;&gt;4. å‡çº§è¿è¡Œçš„ container ç‰ˆæœ¬&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ docker stop xxxx
$ docker create --volumes-from &amp;lt;container_name_of_original_server&amp;gt; \ --name xxx-data image/name:&amp;lt;tag_of_previous_rancher_server&amp;gt;
$ docker pull image/name:latest
$ docker run -d --volumes-from xxx-data --restart=unless-stopped \ -p 8080:8080 image/namel.:latest
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;5-é-root-ç”¨æˆ·æ‰§è¡Œ-docker&#34;&gt;5. é root ç”¨æˆ·æ‰§è¡Œ docker&lt;/h4&gt;

&lt;p&gt;åˆ›å»º docker ç”¨æˆ·ç»„å¹¶é‡å¯ docker æœåŠ¡ï¼Œä¹‹åæŠŠä½ æƒ³è¦çš„ç”¨æˆ·åŠ åˆ° docker ç”¨æˆ·ç»„å³å¯ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ groupadd docker
$ service docker restart
$ usermod -a -G docker icyleaf
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;6-å®¿ä¸»æœº-cst-æ—¶é—´ä¼šé€ æˆ-docker-å®ä¾‹æ—¶é—´ä¸å‡†&#34;&gt;6. å®¿ä¸»æœº CST æ—¶é—´ä¼šé€ æˆ docker å®ä¾‹æ—¶é—´ä¸å‡†&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªçœŸæ²¡åŠæ³•ï¼Œåªèƒ½åœ¨ Dockerfile æˆ–è€…è¿›å®ä¾‹é‡Œé¢è¿›è¡Œä¿®æ”¹æ—¶åŒºï¼Œè¿™ä¸ªæˆ‘å°±ä¸è¿‡å¤šèµ˜è¿°äº†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å¦‚ä½•åœ¨ CentOS ä¸Šå®‰è£… Gitlab</title>
      <link>http://icyleaf.com/2013/09/how-to-install-gitlab-on-centos</link>
      <pubDate>Tue, 17 Sep 2013 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2013/09/how-to-install-gitlab-on-centos</guid>
      <description>

&lt;p&gt;2013 å¹´ 08 æœˆçš„ OpenParty &amp;ldquo;&lt;a href=&#34;http://www.beijing-open-party.org/event/25&#34;&gt;èŠ±äº‹å¦‚æœŸ&lt;/a&gt;&amp;rdquo; æ´»åŠ¨ä¸Šï¼Œ&lt;a href=&#34;https://github.com/vecio&#34;&gt;æ™“ä¸œ&lt;/a&gt;åœ¨ä»–çš„æœºå™¨ä¸Šæ¼”ç¤ºäº†è‡ªå»º Gitlab çš„é¡¹ç›®ï¼Œçœ‹åˆ° Gitlab ç›®å‰å·²ç»æ¯”è¾ƒæˆç†Ÿï¼Œè€Œä¸åƒæ—©æœŸå¯’ç¢œçš„ç•Œé¢ï¼Œè¿™ä¸ªæ—¶å€™çœ‹å®‰è£…ä¸€ä¸‹ä¹Ÿæ˜¯ä¸é”™çš„äº‹æƒ…ï¼Œä¸è¿‡ä»–ä»¬çš„é¡¹ç›®æ–‡æ¡£åªæä¾›äº† Ubuntu ç³»ç»Ÿçš„&lt;a href=&#34;https://github.com/gitlabhq/gitlabhq#installation&#34;&gt;å®‰è£…æ–‡æ¡£&lt;/a&gt;ï¼Œå¯¹äº CentOS æ²¡æœ‰æåˆ°ï¼Œéå®˜æ–¹çš„æ–‡æ¡£æœ‰æ¯”è¾ƒè€ä¹…ï¼Œå‡­ç€ä¹‹å‰ç†Ÿæ‚‰ Ubuntu å’Œå­¦ä¹  CentOSï¼Œé‚£å°±å¼€å§‹å®‰è£…å§ï¼š&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹æ•™ç¨‹åœ¨ &lt;code&gt;CentOS 6 x86_64&lt;/code&gt; ç‰ˆæœ¬ä¸‹æ“ä½œã€‚&lt;/p&gt;

&lt;h2 id=&#34;é¦–å…ˆå®‰è£…-epel-å’Œç¼–è¯‘ä¾èµ–åº“&#34;&gt;é¦–å…ˆå®‰è£… EPEL å’Œç¼–è¯‘ä¾èµ–åº“&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ rpm -ivh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯é 64 ä½ï¼Œå»ä¸Šé¢çš„ç½‘å€æ‰¾åˆ°é€‚åˆä½ å‘è¡Œç‰ˆçš„æœ€æ–°ç‰ˆæœ¬çš„ epel rpm&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;$ yum -y update
$ yum -y install gcc gcc-c++ make autoconf libyaml-devel gdbm-devel ncurses-devel openssl-devel zlib-devel readline-devel curl-devel expat-devel gettext-devel  tk-devel libxml2-devel libffi-devel libxslt-devel libicu-devel sendmail patch libyaml* pcre-devel sqlite-devel vim
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…-python-2-7&#34;&gt;å®‰è£… Python 2.7+&lt;/h2&gt;

&lt;p&gt;Gitlab è¦æ±‚ Python 2.5.5+ ä»¥åŠ Ruby 1.9+&lt;/p&gt;

&lt;p&gt;ç³»ç»Ÿ Python é»˜è®¤æ˜¯ 2.6.xï¼Œå¦‚æœä½ æƒ³æŠŠ Python å‡çº§åˆ°ç›®å‰æ¯”è¾ƒæµè¡Œçš„ 2.7.x å°±å‚ç…§ä¸‹é¢æ­¥éª¤ï¼Œå¦åˆ™ç›´æ¥è·³è¿‡ã€‚ï¼ˆGitlab ç›®å‰ä¸æ”¯æŒ Python 3.0ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir /tmp/gitlab &amp;amp;&amp;amp; cd /tmp/gitlab
$ curl --progress http://python.org/ftp/python/2.7.5/Python-2.7.5.tgz | tar xvf
$ cd Python-2.7.5
$ ./configure --prefix=/usr/local
$ make &amp;amp;&amp;amp; make altinstall
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®‰è£…å¥½ä¹‹åï¼Œéœ€è¦åšä¸¤ä»¶äº‹æƒ…ï¼Œæ›¿æ¢é»˜è®¤ python çš„ç‰ˆæœ¬è‡³æœ€æ–°ç‰ˆæœ¬ï¼Œ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo ln -s /usr/local/bin/python2.7 /usr/local/bin/python
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºç³»ç»Ÿé»˜è®¤ &lt;code&gt;PATH&lt;/code&gt; çš„å¯»å€è·¯å¾„æ˜¯ &lt;code&gt;/usr/local/bin&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€åçœ‹ä¸‹ Python ç‰ˆæœ¬æ˜¯å¦æ˜¯åˆšåˆšå®‰è£…çš„ç‰ˆæœ¬ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ python --version
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;ç”±äº &lt;code&gt;yum&lt;/code&gt; æ˜¯ python çš„ä¸€ä¸ª moduleï¼Œæ‰€ä»¥è¿™å—ä¿®æ”¹å¯èƒ½ä¼šå¼•èµ·æ— æ³•è°ƒç”¨ yum è„šæœ¬ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ &lt;code&gt;/usr/bin/yum&lt;/code&gt; çš„ç¬¬ä¸€è¡Œä¸º &lt;code&gt;!#/usr/bin/python2.6&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;å®‰è£…-ruby-2-0&#34;&gt;å®‰è£… Ruby 2.0&lt;/h2&gt;

&lt;p&gt;Ruby 1.9 å’Œ 2.0 çš„ç‰¹æ€§å·®åˆ«ä¸å¤§ï¼Œç´¢æ€§å‡çº§è‡³æœ€æ–° 2.0 ç‰ˆæœ¬å³å¯&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd /tmp/gitlab
$ curl --progress http://cache.ruby-lang.org/pub/ruby/2.0/ruby-2.0.0-p247.tar.gz | tar xz
$ cd ruby-2.0.0-p247
$ ./configure
$ make
$ make install
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ruby 2.0 å·²ç»å†…ç½® gem (v2.0.3)ï¼Œåªéœ€è¦å®‰è£… bundler&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ gem install bundler
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;è‹¥åœ¨æ‰§è¡Œ &lt;code&gt;sudo ruby&lt;/code&gt; æˆ– &lt;code&gt;sudo gem&lt;/code&gt; æ‰¾ä¸åˆ°å‘½ä»¤ï¼Œå› ä¸ºç¼–è¯‘çš„è·¯å¾„é…ç½®åˆ°äº† &lt;code&gt;/usr/local/bin&lt;/code&gt;ï¼Œæˆ‘ä»¬åªéœ€è¦åšä¸‹è½¯é“¾æ¥åˆ° root ç”¨æˆ·å¯ä»¥æ‰¾åˆ°çš„ &lt;code&gt;$PATH&lt;/code&gt; è·¯å¾„ï¼š&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;$ ln -s /usr/local/bin/ruby /usr/bin/ruby
$ ln -s /usr/local/bin/gem /usr/bin/gem
$ ln -s /usr/local/bin/bundle /usr/bin/bundle
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…-git-å’Œ-gitolite&#34;&gt;å®‰è£… Git å’Œ Gitolite&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ yum -y install git-all gitolite
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…-nginx&#34;&gt;å®‰è£… Nginx&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ yum -y install nginx
$ service nginx start
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;nginx éœ€è¦ä» EPEL ä¸­å®‰è£…ï¼Œé»˜è®¤ç³»ç»Ÿæ²¡æœ‰ nginx åŒ…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;å®‰è£…-mysql-å’Œ-redis&#34;&gt;å®‰è£… Mysql å’Œ Redis&lt;/h2&gt;

&lt;p&gt;Gitlab è¦æ±‚å¼ºåˆ¶å®‰è£… redis å¤„ç†ä¸€äº›æ•°æ®ï¼Œå¦å¤–æ”¯æŒ MySQL å’Œ PostgreSQLï¼Œè¿™é‡Œä¸»è¦ä»¥ MySQL ä¸ºä¾‹&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ yum -y install mysql mysql-devel mysql-server redis
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é…ç½® Mysql å’Œ gitlab éœ€è¦çš„ç”¨æˆ·å’Œæ•°æ®åº“&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ service mysqld start
$ mysql -u root
$ mysql&amp;gt; CREATE USER &#39;gitlab&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;gitlab&#39;;
$ mysql&amp;gt; CREATE DATABASE IF NOT EXISTS `gitlabhq_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;
$ mysql&amp;gt; GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `gitlabhq_production`.* TO &#39;gitlab&#39;@&#39;localhost&#39;;
$ mysql&amp;gt; \q
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Redis ä½¿ç”¨é»˜è®¤é…ç½®å³å¯ï¼Œç›´æ¥å¯åŠ¨&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ service redis start
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ·»åŠ -gitlab-ç”¨æˆ·&#34;&gt;æ·»åŠ  Gitlab ç”¨æˆ·&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ useradd -c &#39;GitLab&#39; git
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;CentOS çš„å‘½ä»¤æ²¡æœ‰åŠæ³•ç›´æ¥ç¦æ­¢ç”¨æˆ·çš„è®¿é—®çš„å‚æ•°ï¼Œéœ€è¦ç”¨ä¸‹é¢å‘½ä»¤ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ passwd -l git 	
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…-gitlab-shell&#34;&gt;å®‰è£… Gitlab-shell&lt;/h2&gt;

&lt;p&gt;ä½¿ç”¨ root è´¦æˆ·åˆ‡æ¢åˆ° git è´¦æˆ·ä¸‹æ“ä½œï¼Œå¯ä»¥æ¯”å®˜æ–¹æ•™ç¨‹çœå»ä¸€äº›éº»çƒ¦çš„è¾“å…¥&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ su git &amp;amp;&amp;amp; cd /home/git
$ git clone https://github.com/gitlabhq/gitlab-shell.git
$ cd gitlab-shell
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ &lt;code&gt;git tag&lt;/code&gt; æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å¹¶åˆ‡æ¢ä¹‹&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git checkout v1.7.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶ä¿®æ”¹ä½ è¦è®¾å®šçš„åŸŸåï¼ˆdomainï¼‰ï¼Œæ¯”å¦‚ &lt;code&gt;http://gitlab.dev/&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vim config.yml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®Œæˆä¹‹åæ‰§è¡Œå®‰è£…è„šæœ¬&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./bin/install
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å®‰è£…-gitlab&#34;&gt;å®‰è£… Gitlab&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ cd /home/git
$ git clone https://github.com/gitlabhq/gitlabhq.git gitlab
$ cd /home/git/gitlab
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ &lt;code&gt;git tag&lt;/code&gt; æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å¹¶åˆ‡æ¢ä¹‹&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git checkout 6.0.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œéœ€è¦é…ç½®çš„ä¸œè¥¿å¤šä¸€äº›ï¼Œè¿™é‡Œå‚è€ƒ&lt;a href=&#34;https://github.com/gitlabhq/gitlabhq/blob/master/doc/install/installation.md#configure-it&#34;&gt;å®˜æ–¹çš„æ–‡æ¡£&lt;/a&gt;ï¼Œä¹Ÿå¯ä»¥å®‰è£…æˆ‘ä¸‹é¢çš„æ­¥éª¤æ¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd /home/git/gitlab
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ host ç›¸å…³çš„é…ç½®é¡¹ï¼Œä¸»è¦æ˜¯ domain è¦å’Œä¸Šé¢çš„ &lt;code&gt;http://gitlab.dev&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cp config.yml{.example,}
$ vim config/gitlab.yml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¡®è®¤ gitlab ä»¥ä¸‹ç›®å½•çš„æƒé™æ˜¯å¦æ­£ç¡®&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir tmp/pids/
$ mkdir tmp/sockets/
$ chown -R git log/
$ chown -R git tmp/
$ chmod -R u+rwX log/
$ chmod -R u+rwX tmp/
$ chmod -R u+rwX tmp/pids/
$ chmod -R u+rwX tmp/sockets/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ›å»º satellites ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¿å­˜å„ä¸ªç”¨æˆ·çš„ä»“åº“&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir /home/git/gitlab-satellites
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ›å»º uploads ç›®å½•ï¼ˆä¸ºä»€ä¹ˆ gitlab ä¸åœ¨é¡¹ç›®ä¸­åˆ›å»ºå‘¢= =ï¼ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir public/uploads
$ chmod -R u+rwX  public/uploads
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤åˆ¶ unicorn é…ç½®æ–‡ä»¶&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cp config/unicorn.rb{.example,}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¾ç½® ruby web å®¹å™¨çš„å‚æ•°ï¼Œæ¯”å¦‚ 2GB RAM æœåŠ¡å™¨å¯ä»¥è®¾ç½® 3 ä¸ª workerã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¦‚æœç³»ç»Ÿå…¶ä»–æœåŠ¡å ç”¨äº† unicorn çš„ç«¯å£ï¼Œè®°å¾—æ”¹åã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;$ vim config/unicorn.rb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¾ç½®ä¸€äº› git å…¨å±€å‚æ•°&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ git config --global user.name &amp;quot;GitLab&amp;quot;
$ git config --global user.email &amp;quot;gitlab@localhost&amp;quot;
$ git config --global core.autocrlf input
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é…ç½® gitlab æ•°æ®åº“è®¾ç½®&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cp config/database.yml{.mysql,}
$ vim config/database.yml
$ chmod o-rwx config/database.yml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®‰è£…å¿…éœ€çš„ Ruby Gems&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cd /home/git/gitlab
$ [sudo] gem install charlock_holmes --version &#39;0.6.9.4&#39;
$ bundle install --deployment --without development test postgres aws
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆå§‹åŒ–æ•°æ®åº“æ•°æ®ï¼ˆæ‰§è¡Œè¾“å…¥ &lt;code&gt;Yes&lt;/code&gt; ç»§ç»­åˆ›å»ºï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ bundle exec rake gitlab:setup RAILS_ENV=production
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è®¾ç½® init è„šæœ¬&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo cp lib/support/init.d/gitlab /etc/init.d/gitlab
$ sudo chmod +x /etc/init.d/gitlab
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ£€æŸ¥-gitlab-çŠ¶æ€&#34;&gt;æ£€æŸ¥ Gitlab çŠ¶æ€&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ bundle exec rake gitlab:env:info RAILS_ENV=production
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯åŠ¨ gitlab æœåŠ¡&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo service gitlab start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†èµ·æ£€æŸ¥ï¼Œä¿è¯æ‰€æœ‰é¡¹ç›®éƒ½æ˜¯ç»¿è‰²&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ bundle exec rake gitlab:check RAILS_ENV=production
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;é…ç½®-nginx&#34;&gt;é…ç½® nginx&lt;/h2&gt;

&lt;p&gt;æ ¹æ® nginx çš„å®‰è£…è·¯å¾„é€‚å½“ä¿®æ”¹ä¸‹é¢çš„è·¯å¾„å³å¯ï¼Œæˆ‘ä»¬å…ˆæŠŠ gitlab æä¾›çš„é…ç½®æ–‡ä»¶æ‹·è´è¿‡å»&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo mkdir -p /etc/nginx/conf/sites/
$ sudo cp lib/support/nginx/gitlab /etc/nginx/conf/sites/gitlab.conf
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;æ ¹æ® nginx ç‰ˆæœ¬å’Œä¸åŒå‘è¡Œç‰ˆçš„ä¸åŒï¼Œé…ç½®ç»“æ„å¯èƒ½ä¸åŒæ ¹æ®ä½ çš„å®é™…æƒ…å†µåŠ è½½ &lt;code&gt;gitlab.conf&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¿®æ”¹ &lt;code&gt;gitlab.conf&lt;/code&gt; çš„ &lt;code&gt;YOUR_SERVER_FQDN&lt;/code&gt; ä¸ºä¸Šé¢è®¾ç½®çš„ domainã€‚
æœ€åä¿®æ”¹ &lt;code&gt;nginx.conf&lt;/code&gt; æˆ–è€… &lt;code&gt;default.conf&lt;/code&gt; åŠ è½½ &lt;code&gt;/etc/nginx/conf/site&lt;/code&gt; ä¸‹æ‰€æœ‰ conf æ–‡ä»¶&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http {

	include /etc/nginx/conf/site/*.conf;

	server {
		â€¦
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿å­˜åï¼Œé‡å¯å„ä¸ªæœåŠ¡&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo service nginx reload
$ sudo service gitlab restart
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å¼€å§‹-gitlab-ä¹‹æ—…&#34;&gt;å¼€å§‹ Gitlab ä¹‹æ—…&lt;/h2&gt;

&lt;p&gt;é…ç½®å¥½ hosts å³å¯è®¿é—® &lt;code&gt;gitlab.dev&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ echo &amp;quot;127.0.0.1 gitlab.dev&amp;quot; &amp;gt;&amp;gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é»˜è®¤çš„ç”¨æˆ·åå¯†ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;admin@local.host
5iveL!fe
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;å„ç§å‘&#34;&gt;å„ç§å‘&lt;/h2&gt;

&lt;h3 id=&#34;1-é”™è¯¯æ—¥å¿—æŠ¥æƒé™é”™è¯¯&#34;&gt;1. é”™è¯¯æ—¥å¿—æŠ¥æƒé™é”™è¯¯&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;2013/11/07 00:42:21 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/favicon.ico.html&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:21 [crit] 15875#0: *2 connect() to unix:/home/git/gitlab/tmp/sockets/gitlab.socket failed (13: Permission denied) while connecting to upstream, client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, upstream: &amp;quot;http://unix:/home/git/gitlab/tmp/sockets/gitlab.socket:/favicon.ico&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET / HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public//index.html&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET / HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/.html&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET / HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 connect() to unix:/home/git/gitlab/tmp/sockets/gitlab.socket failed (13: Permission denied) while connecting to upstream, client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET / HTTP/1.1&amp;quot;, upstream: &amp;quot;http://unix:/home/git/gitlab/tmp/sockets/gitlab.socket:/&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/favicon.ico&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/favicon.ico/index.html&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 stat() &amp;quot;/home/git/gitlab/public/favicon.ico.html&amp;quot; failed (13: Permission denied), client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
2013/11/07 00:42:31 [crit] 15875#0: *2 connect() to unix:/home/git/gitlab/tmp/sockets/gitlab.socket failed (13: Permission denied) while connecting to upstream, client: 33.33.33.1, server: gitlab.web.lo, request: &amp;quot;GET /favicon.ico HTTP/1.1&amp;quot;, upstream: &amp;quot;http://unix:/home/git/gitlab/tmp/sockets/gitlab.socket:/favicon.ico&amp;quot;, host: &amp;quot;gitlab.web.lo&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è§£å†³æ–¹æ¡ˆ:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ (sudo) chmod o+x /home/git
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;2-8080-ç«¯å£è¢«å ç”¨&#34;&gt;2. 8080 ç«¯å£è¢«å ç”¨&lt;/h3&gt;

&lt;p&gt;è¿™æ ·ä¸»è¦æ˜¯å› ä¸º nginx çš„é…ç½®æ˜¯åš unicorn çš„ä»£ç†è½¬å‘ï¼Œå®é™…ä¸Š gitlab æ˜¯ç”± unicorn å®¹å™¨é©±åŠ¨ï¼Œè€Œåœ¨é…ç½®é‡Œé»˜è®¤ç»‘å®šçš„æ˜¯ &lt;code&gt;8080&lt;/code&gt; ç«¯å£&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vim /home/git/gitlab/config/unicorn.rb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰¾åˆ° &lt;code&gt;listen &amp;quot;127.0.0.1:8080&amp;quot;, :tcp_nopush =&amp;gt; true&lt;/code&gt; ä¿®æ”¹æˆå…¶ä»–æœªå ç”¨çš„ç«¯å£å·å³å¯ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é…ç½® CentOS çš„ç½‘ç»œè”ç½‘è®¾ç½®</title>
      <link>http://icyleaf.com/2013/09/network-configuration-in-centos</link>
      <pubDate>Thu, 05 Sep 2013 12:34:56 +0800</pubDate>
      
      <guid>http://icyleaf.com/2013/09/network-configuration-in-centos</guid>
      <description>

&lt;p&gt;å®‰è£…å®Œæ¯• CentOS 6 Server å¼€å§‹é…ç½®ç½‘ç»œè®¾ç½®ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œç”¨çš„æ–¹æ³•è¦ä¹ˆä¸å…¨ï¼Œè¦ä¹ˆæ“ä½œæ–¹å¼æ¯”è¾ƒæ—©æœŸï¼ŒèŠ±ç‚¹æ—¶é—´æ•´ç†äº†ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;

&lt;h2 id=&#34;dhcp-è®¾å®š&#34;&gt;DHCP è®¾å®š&lt;/h2&gt;

&lt;p&gt;CentOS é»˜è®¤ä½¿ç”¨äº† &lt;code&gt;dhcp&lt;/code&gt; ä½†æ˜¯å¯æ¨çš„æ˜¯æ²¡æœ‰å¼€å¯ã€‚é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹çœ‹æœ¬æœºçš„ç½‘å¡ä¿¡æ¯&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ip a
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”å›ç»“æœï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1: lo:  mtu 16436 qdisc noqueue state UNKNOWN
link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
inet 127.0.0.1/8 scope host lo
inet6 ::1/128 scope host
valid_lft forever preferred_lft forever
2: eth0:  mtu 1500 qdisc mq state UP qlen 1000
link/ether 00:22:19:09:4d:3c brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ &lt;code&gt;lo&lt;/code&gt; æ˜¯å›è·¯è·¯ç”±ï¼Œå’±ä»¬ä¸å¿…ç®¡å®ƒï¼Œè¿™é‡Œ &lt;code&gt;eth0&lt;/code&gt; å¤§å®¶ä¼šå¾ˆç†Ÿæ‚‰å§ï¼Œè¿™è¡¨ç¤ºç¬¬ä¸€å—ç½‘å¡ã€‚å¥½äº†ï¼Œæˆ‘ä»¬éœ€è¦æ”¹æ”¹å®ƒçš„é…ç½®æ–‡ä»¶(CentOS é»˜è®¤æ²¡æœ‰å®‰è£… &lt;code&gt;vim&lt;/code&gt;):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vi /etc/sysconfig/network-scripts/ifcfg-eth0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½ è¦æ”¹å…¶ä»–ç½‘å¡ï¼Œæ¯”å¦‚ &lt;code&gt;eth1&lt;/code&gt; é‚£éœ€è¦ä¿®æ”¹ &lt;code&gt;/etc/.../ifcfg-eth1&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVICE=eth0
HWADDR=&amp;quot;00:22:19:09:4D:3C&amp;quot;
NM_CONTROLLED=yes
ONBOOT=yes      # é»˜è®¤æ˜¯ noï¼Œæˆ‘ä»¬è¦æ”¹æˆ yes
BOOTPROTO=dhcp  # å¦‚æœä¸æ˜¯è¿™ä¸ªå€¼ä¹Ÿè¦ä¿®æ”¹
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åé‡å¯ network service å³å¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ service network restart
# æˆ–è€…æ¯”è¾ƒåŸå§‹çš„æ–¹æ³•
$ /etc/init.d/network restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä½ çœ‹åˆ°å®ƒåœ¨é‡å¯å¹¶é…ç½® DHCP æœåŠ¡ï¼Œé‚£å°±è¯´æ˜æ²¡æœ‰é—®é¢˜äº†&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Bringing up loopback interface:                [  OK  ]
Bringing up interface eth0:
Determining IP information for eth0... done.   [  OK  ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æµ‹è¯•ä¸€ä¸‹&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ping google.com
$ ifconfig
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;æ‰‹åŠ¨è®¾å®š&#34;&gt;æ‰‹åŠ¨è®¾å®š&lt;/h2&gt;

&lt;p&gt;å¤§éƒ¨åˆ†æ“ä½œå’Œä¸Šé¢çš„ä¸€ç›´ï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯ä¿®æ”¹ &lt;code&gt;/etc/sysconfig/network-scripts/ifcfg-*&lt;/code&gt; æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVICE=eth0
HWADDR=&amp;quot;00:22:19:09:4D:3C&amp;quot;
NM_CONTROLLED=yes
ONBOOT=yes      		# é»˜è®¤æ˜¯ noï¼Œæˆ‘ä»¬è¦æ”¹æˆ yes
BOOTPROTO=static  		# æ”¹æˆé™æ€æ¨¡å¼
IPADDR=192.168.1.11 	# è®¾å®š ip åœ°å€
NETMASK=255.255.255.0 	# è®¾å®šå­ç½‘æ©ç 
GATEWAY=192.168.1.1 	# è®¾å®šç½‘å…³ ip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¿®æ”¹ DNS åœ°å€&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vi /etc/resolve.conf

nameserver 8.8.8.8 # ä¸» DNS
nameserver 8.8.4.4 # å¤‡é€‰ DNS
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>