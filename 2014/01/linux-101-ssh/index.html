<!doctype html><html lang=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Linux 101 ç³»åˆ—ï¼šssh OpenSSH å®¢æˆ·ç«¯å·¥å…· | icyleaf</title><link rel=prev href=https://icyleaf.com/2013/12/2013-in-review/><link rel=next href=https://icyleaf.com/2014/01/intro-ruby-gem-guard/><link rel=canonical href=https://icyleaf.com/2014/01/linux-101-ssh/><link rel=apple-touch-icon sizes=180x180 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=icon type=image/png sizes=32x32 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=icon type=image/png sizes=16x16 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=stylesheet href=https://icyleaf.com/css/main.min.css><link rel=stylesheet href=https://icyleaf.com/font/iconfont.css><link rel=stylesheet href=https://icyleaf.com/font-ali/iconfont.css><meta name=title content="Linux 101 ç³»åˆ—ï¼šssh OpenSSH å®¢æˆ·ç«¯å·¥å…· | icyleaf"><meta name=author content="icyleaf"><meta name=description content="æ—¥å¸¸å†™ä»£ç çƒ­çˆ±æˆ·å¤–çš„æ¢¦æƒ³å®¶"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/icyleaf.com\/"},"articleSection":"posts","name":"Linux 101 ç³»åˆ—ï¼šssh OpenSSH å®¢æˆ·ç«¯å·¥å…·","headline":"Linux 101 ç³»åˆ—ï¼šssh OpenSSH å®¢æˆ·ç«¯å·¥å…·","description":"ä½¿ç”¨ *nix æœåŠ¡å™¨è‚¯å®šä¼šç”¨åˆ° sshï¼Œå®ƒæ˜¯ä¸€ä¸ªé“¾æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ç»ˆç«¯çš„å·¥å…·ã€‚ åŸºæœ¬å¸¸è¯† åŸºæœ¬ç»„æˆéƒ¨åˆ† 1$ man ssh 2ssh [-1246AaCfgKkMNnqsTtVvXxYy] [-b bind_address] [-c cipher_spec] 3 [-D [bind_address:]port] [-e escape_char] [-F configfile] [-I pkcs11] 4 [-i identity_file] [-L [bind_address:]port:host:hostport] 5 [-l login_name] [-m","inLanguage":"zh","author":"icyleaf","creator":"icyleaf","publisher":"icyleaf","accountablePerson":"icyleaf","copyrightHolder":"icyleaf","copyrightYear":"2014","datePublished":"2014-01-22 12:34:56 \u002b0800 \u002b0800","dateModified":"2014-01-22 12:34:56 \u002b0800 \u002b0800","url":"https:\/\/icyleaf.com\/2014\/01\/linux-101-ssh\/","wordCount":"1762","keywords":["Linux","icyleaf"]}</script></head><body><div class=wrapper><nav class=navbar><progress class=content_progress max=0 value=0></progress><div class=container><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><span class=menu><a class=menu-item href=https://icyleaf.com/about title>About</a>
<a class=menu-item href=https://icyleaf.com/index.xml title>Feed</a>
<span class=divide></span><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></span></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><progress class=content_progress max=0 value=0></progress><div class=container><div class=navbar><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div><div class=menu-toggle><span></span><span></span><span></span></div></div></div><div class=menu id=mobile-menu><nav class=mb-md><a class=menu-item href=https://icyleaf.com/about title><h3>About</h3><div class=menu-active></div></a><a class=menu-item href=https://icyleaf.com/index.xml title><h3>Feed</h3><div class=menu-active></div></a></nav></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">Linux 101 ç³»åˆ—ï¼šssh OpenSSH å®¢æˆ·ç«¯å·¥å…·</h1><div class=post-meta><time datetime=2014-01-22 itemprop=datePublished>January 22, 2014</time>
Â·
<span class=tags>Linux</span>
Â·
<span class=post-word-count>1762 words Â· 8 minutes</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#åŸºæœ¬å¸¸è¯†>åŸºæœ¬å¸¸è¯†</a><ul><li><a href=#åŸºæœ¬ç»„æˆéƒ¨åˆ†>åŸºæœ¬ç»„æˆéƒ¨åˆ†</a></li><li><a href=#é«˜çº§å‚æ•°>é«˜çº§å‚æ•°</a></li><li><a href=#ç®€åŒ–é…ç½®>ç®€åŒ–é…ç½®</a></li><li><a href=#é…ç½®æ–‡ä»¶>é…ç½®æ–‡ä»¶</a></li></ul></li></ul></nav></div></div><div class=post-content><blockquote><p>ä½¿ç”¨ *nix æœåŠ¡å™¨è‚¯å®šä¼šç”¨åˆ° sshï¼Œå®ƒæ˜¯ä¸€ä¸ªé“¾æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ç»ˆç«¯çš„å·¥å…·ã€‚</p></blockquote><h2 id=åŸºæœ¬å¸¸è¯†>åŸºæœ¬å¸¸è¯†</h2><h3 id=åŸºæœ¬ç»„æˆéƒ¨åˆ†>åŸºæœ¬ç»„æˆéƒ¨åˆ†</h3><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ man ssh
<span class=ln>2</span>ssh <span class=o>[</span>-1246AaCfgKkMNnqsTtVvXxYy<span class=o>]</span> <span class=o>[</span>-b bind_address<span class=o>]</span> <span class=o>[</span>-c cipher_spec<span class=o>]</span>
<span class=ln>3</span>     <span class=o>[</span>-D <span class=o>[</span>bind_address:<span class=o>]</span>port<span class=o>]</span> <span class=o>[</span>-e escape_char<span class=o>]</span> <span class=o>[</span>-F configfile<span class=o>]</span> <span class=o>[</span>-I pkcs11<span class=o>]</span>
<span class=ln>4</span>     <span class=o>[</span>-i identity_file<span class=o>]</span> <span class=o>[</span>-L <span class=o>[</span>bind_address:<span class=o>]</span>port:host:hostport<span class=o>]</span>
<span class=ln>5</span>     <span class=o>[</span>-l login_name<span class=o>]</span> <span class=o>[</span>-m mac_spec<span class=o>]</span> <span class=o>[</span>-O ctl_cmd<span class=o>]</span> <span class=o>[</span>-o option<span class=o>]</span> <span class=o>[</span>-p port<span class=o>]</span>
<span class=ln>6</span>     <span class=o>[</span>-R <span class=o>[</span>bind_address:<span class=o>]</span>port:host:hostport<span class=o>]</span> <span class=o>[</span>-S ctl_path<span class=o>]</span> <span class=o>[</span>-W host:port<span class=o>]</span>
<span class=ln>7</span>     <span class=o>[</span>-w local_tun<span class=o>[</span>:remote_tun<span class=o>]]</span> <span class=o>[</span>user@<span class=o>]</span>hostname <span class=o>[</span>command<span class=o>]</span>
</code></pre></div><p>æœ‰æ²¡æœ‰è¢«å¸®åŠ©æ‰‹å†Œçš„å‚æ•°å“åˆ°ï¼Œé‚£æˆ‘ä»¬ç²¾ç®€ä¸€ä¸‹ï¼š</p><blockquote><p>ssh [user@]hostname [-p port]</p></blockquote><p>ç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨å’Œç™»å½•æœ¬åœ°ç”µè„‘ç³»ç»Ÿæ²¡ä»€ä¹ˆå¤§çš„åŒºåˆ«ï¼Œéƒ½éœ€è¦ç”¨æˆ·åï¼Œå¯†ç ï¼Œé™¤æ­¤ä¹‹å¤–æˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“è¿œç¨‹æœåŠ¡å™¨çš„åœ°å€ï¼ˆIP åœ°å€æˆ–åŸŸåå‡å¯ï¼‰åŠå…è®¸çš„ç«¯å£ï¼ˆé»˜è®¤ 22 ç«¯å£ï¼‰ã€‚</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ ssh root@10.10.10.10 -p <span class=m>22</span>
</code></pre></div><p>æœ‰äº›æ—¶å€™å¤§å®¶å‘ç°ä¸€äº›æ•™ç¨‹æ²¡æœ‰æåˆ°ç”¨æˆ·ï¼Œå®é™…ä¸Š ssh å¾ˆèªæ˜ï¼Œé»˜è®¤ä¼šä½¿ç”¨å½“å‰ç³»ç»Ÿçš„ç”¨æˆ·åï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span><span class=o>(</span>icyleaf<span class=o>)</span> $ ssh 10.10.10.10
</code></pre></div><p>è¿™ä¸ªå°±ç­‰åŒäº</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ ssh icyleaf@10.10.10.10
</code></pre></div><p>æœ‰äº›æœåŠ¡å™¨å¯èƒ½ä¸ºäº†å®‰å…¨æœŸé—´ä¿®æ”¹äº†é»˜è®¤çš„ç«¯å£ï¼Œæ¯”å¦‚ 2020ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ ssh icyleaf@10.10.10.10 -p <span class=m>2020</span>
</code></pre></div><h3 id=é«˜çº§å‚æ•°>é«˜çº§å‚æ•°</h3><h4 id=socket-ä»£ç†>Socket ä»£ç†</h4><p>å‘ï¼Œä½ å¯èƒ½å› ä¸º GFW çš„å¨åŠ›ï¼Œå°è¯•ä½¿ç”¨ ssh çš„ socket ä»£ç†ï¼Œå®é™…ä¸Šå°±æ˜¯ç”¨åˆ°çš„ <code>-D</code> å‚æ•°ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>-D <span class=o>[</span>bind_address:<span class=o>]</span>port
<span class=ln>2</span>   Specifies a <span class=nb>local</span> <span class=sb>``</span>dynamic application-level port forwarding.
<span class=ln>3</span>   This works by allocating a socket to listen to port on the <span class=nb>local</span>
<span class=ln>4</span>   side, optionally bound to the specified bind_address.  Whenever a
<span class=ln>5</span>   connection is made to this port, the connection is forwarded over
<span class=ln>6</span>   the secure channel, and the application protocol is <span class=k>then</span> used to
<span class=ln>7</span>   determine where to connect to from the remote machine.  Currently
<span class=ln>8</span>   the SOCKS4 and SOCKS5 protocols are supported, and ssh will act
<span class=ln>9</span>   as a SOCKS server.  Only root can forward privileged ports.
</code></pre></div><p>æˆ‘ä»¬æ¥ç®€å•ç”»ä¸‹å®ƒçš„å·¥ä½œæµç¨‹ï¼š</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln>1</span>|----client----|                    |-----server----|
<span class=ln>2</span>|              |                    |               |
<span class=ln>3</span>|   local port&lt;|  &lt;incoming         |               |
<span class=ln>4</span>|    ssh port&lt;&gt;|  &lt;--------------&gt;  |&lt;&gt; ssh port    |
<span class=ln>5</span>                                    |    forwarding&gt;|  &gt;outgoing connection
<span class=ln>6</span>
<span class=ln>7</span>                                     &lt;&lt;&lt;------------local network-----------
</code></pre></div><p>å®ƒé¦–å…ˆéœ€è¦ç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¹¶æŠŠæœ¬åœ°çš„è¯·æ±‚å…¨éƒ¨è½¬å‘åˆ°æœåŠ¡å™¨æŒ‡å®šçš„ç«¯å£ä¸Šï¼Œç„¶åé€šè¿‡ç”±æœåŠ¡å™¨å†å»è¯·æ±‚ã€‚ä¾‹å¦‚æˆ‘ä»¬è®¾ç½® 8624 ç«¯å£ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ ssh -D8624 icyleaf@10.10.10.10 -p <span class=m>22</span>
</code></pre></div><p>è¿™æ ·ä¿æŒè¿™ä¸ªè¿æ¥ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®æµè§ˆå™¨æˆ–ç³»ç»Ÿçš„ socket4/5 ä»£ç†å°±èƒ½è¾¾åˆ°ç¿»å¢™çš„ç›®çš„ã€‚å½“å‰è¿™ä¸ªæœ€å¤§çš„å‰ææ˜¯ä½ çš„æœåŠ¡å™¨åœ¨ä¸æ‰‹ GFW çš„æ§åˆ¶ä¸‹ï¼ˆä»»æ„æµ·å¤–æœªè¢« GFW æœåŠ¡å™¨ï¼‰</p><h4 id=è·³æ¿ä»£ç†>è·³æ¿ä»£ç†</h4><p>æˆ–è®¸æ›¾ç»ä½ åœ¨çœ‹æŸæœ¬é»‘å®¢æ‚å¿—æˆ–ç”µå½±å‡ºç°è¿‡è¿™æ ·çš„ç‰‡æ®µï¼Œé»‘å®¢ä½¿ç”¨è‚‰é¸¡è·³æ¿ä¸æ–­çš„å¢åŠ éš¾åº¦é¿å¼€è­¦å¯Ÿçš„è¿½è¸ªï¼Œå®é™…ä¸Šæˆ‘ä»¬é€šè¿‡ ssh ä¹Ÿèƒ½éå¸¸ç®€å•åˆå¾ˆé…·çš„å®ç°ã€‚</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln>1</span>-L [bind_address:]port:host:hostport
<span class=ln>2</span>   Specifies that the given port on the local (client) host is to be
<span class=ln>3</span>   forwarded to the given host and port on the remote side.  This
<span class=ln>4</span>   works by allocating a socket to listen to port on the local side,
<span class=ln>5</span>   optionally bound to the specified bind_address.  Whenever a con-
<span class=ln>6</span>   nection is made to this port, the connection is forwarded over
<span class=ln>7</span>   the secure channel, and a connection is made to host port
<span class=ln>8</span>   hostport from the remote machine.
</code></pre></div><p>åŒæ ·ç»™å‡ºå·¥ä½œæµç¨‹ï¼š</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln>1</span>|----client----|                    |-----server----|                 |-----host-----|
<span class=ln>2</span>|              |                    |               |                 |              |
<span class=ln>3</span>|   local port&lt;|  &lt;incoming         |               |                 |              |
<span class=ln>4</span>|    ssh port&lt;&gt;|  &lt;--------------&gt;  |&lt;&gt; ssh port    |                 |              |
<span class=ln>5</span>                                    |    forwarding&gt;|  -------------&gt; |&gt;host port    |
<span class=ln>6</span>
<span class=ln>7</span>                                     &lt;&lt;&lt;------------local network-------------------&gt;&gt;&gt;
</code></pre></div><p>å®é™…ä¸Šæˆ‘åªéœ€è¦æ“ä½œ <code>-L [bind_address:]port:host:hostport</code> å³å¯ã€‚è¿™é‡Œå‡è®¾æˆ‘ä»¬æƒ³ç™»å½•çš„ç›®æ ‡æœåŠ¡å™¨ target(10.10.10.10)ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›åœ¨è‚‰é¸¡ chicken(20.20.20.20) ä¸Šåšæˆè·³æ¿ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>$ ssh -L2020:20.20.20.20:22 10.10.10.10
</code></pre></div><h3 id=ç®€åŒ–é…ç½®>ç®€åŒ–é…ç½®</h3><p>åå¤çš„è¾“å…¥è¿™äº›ç¹ççš„å‚æ•°ï¼Œç”šæ˜¯è‹¦æ¼ï¼Œèƒ½ä¸èƒ½é€šè¿‡ä¸€ç§èµ·ä¸ªåˆ«åå°±èƒ½æŠŠä¸Šé¢çš„å‚æ•°å…¨éƒ¨è‡ªåŠ¨è®¾ç½®å¥½å‘¢ï¼Ÿï¼æ²¡é—®é¢˜ï¼</p><p>åˆ›å»º <code>~/.ssh/config</code> æ–‡ä»¶ï¼š</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>Host linode
<span class=ln>2</span>HostName 10.10.10.10
<span class=ln>3</span>Port <span class=m>22</span>
<span class=ln>4</span>User icyleaf
</code></pre></div><p>è¿™ä¸ªå°±æ˜¯åŸºæœ¬ç»„æˆéƒ¨åˆ†ã€‚å¦‚æœä½ æƒ³é…ç½®æ›´å¤šï¼Œä¸‹é¢æ˜¯å®Œæ•´çš„å‚æ•°ï¼š</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln> 1</span>AddressFamily
<span class=ln> 2</span>BatchMode
<span class=ln> 3</span>BindAddress
<span class=ln> 4</span>ChallengeResponseAuthentication
<span class=ln> 5</span>CheckHostIP
<span class=ln> 6</span>Cipher
<span class=ln> 7</span>Ciphers
<span class=ln> 8</span>ClearAllForwardings
<span class=ln> 9</span>Compression
<span class=ln>10</span>CompressionLevel
<span class=ln>11</span>ConnectionAttempts
<span class=ln>12</span>ConnectTimeout
<span class=ln>13</span>ControlMaster
<span class=ln>14</span>ControlPath
<span class=ln>15</span>ControlPersist
<span class=ln>16</span>DynamicForward
<span class=ln>17</span>EscapeChar
<span class=ln>18</span>ExitOnForwardFailure
<span class=ln>19</span>ForwardAgent
<span class=ln>20</span>ForwardX11
<span class=ln>21</span>ForwardX11Timeout
<span class=ln>22</span>ForwardX11Trusted
<span class=ln>23</span>GatewayPorts
<span class=ln>24</span>GlobalKnownHostsFile
<span class=ln>25</span>GSSAPIAuthentication
<span class=ln>26</span>GSSAPIDelegateCredentials
<span class=ln>27</span>HashKnownHosts
<span class=ln>28</span>Host
<span class=ln>29</span>HostbasedAuthentication
<span class=ln>30</span>HostKeyAlgorithms
<span class=ln>31</span>HostKeyAlias
<span class=ln>32</span>HostName
<span class=ln>33</span>IdentityFile
<span class=ln>34</span>IdentitiesOnly
<span class=ln>35</span>IPQoS
<span class=ln>36</span>KbdInteractiveAuthentication
<span class=ln>37</span>KbdInteractiveDevices
<span class=ln>38</span>KexAlgorithms
<span class=ln>39</span>LocalCommand
<span class=ln>40</span>LocalForward
<span class=ln>41</span>LogLevel
<span class=ln>42</span>MACs
<span class=ln>43</span>NoHostAuthenticationForLocalhost
<span class=ln>44</span>NumberOfPasswordPrompts
<span class=ln>45</span>PasswordAuthentication
<span class=ln>46</span>PermitLocalCommand
<span class=ln>47</span>PKCS11Provider
<span class=ln>48</span>Port
<span class=ln>49</span>PreferredAuthentications
<span class=ln>50</span>Protocol
<span class=ln>51</span>ProxyCommand
<span class=ln>52</span>PubkeyAuthentication
<span class=ln>53</span>RekeyLimit
<span class=ln>54</span>RemoteForward
<span class=ln>55</span>RequestTTY
<span class=ln>56</span>RhostsRSAAuthentication
<span class=ln>57</span>RSAAuthentication
<span class=ln>58</span>SendEnv
<span class=ln>59</span>ServerAliveInterval
<span class=ln>60</span>ServerAliveCountMax
<span class=ln>61</span>StrictHostKeyChecking
<span class=ln>62</span>TCPKeepAlive
<span class=ln>63</span>Tunnel
<span class=ln>64</span>TunnelDevice
<span class=ln>65</span>UsePrivilegedPort
<span class=ln>66</span>User
<span class=ln>67</span>UserKnownHostsFile
<span class=ln>68</span>VerifyHostKeyDNS
<span class=ln>69</span>VisualHostKey
<span class=ln>70</span>XAuthLocation
</code></pre></div><h3 id=é…ç½®æ–‡ä»¶>é…ç½®æ–‡ä»¶</h3><p>åˆšæ‰è®²åˆ°çš„ <code>~/.ssh/config</code> æ˜¯é…ç½® ssh æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œå…¶å®é™¤äº†è¿™äº›è¿˜æœ‰å¥½å¤šï¼Œæ¯”å¦‚å¤§å®¶å¯èƒ½ä¼šç»å¸¸è§åˆ°çš„ï¼š</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln> 1</span>~/.ssh/config
<span class=ln> 2</span>  This is the per-user configuration file.  The file format and
<span class=ln> 3</span>  configuration options are described in ssh_config(5).  Because of
<span class=ln> 4</span>  the potential for abuse, this file must have strict permissions:
<span class=ln> 5</span>  read/write for the user, and not accessible by others.
<span class=ln> 6</span>
<span class=ln> 7</span>~/.ssh/authorized_keys
<span class=ln> 8</span>  Lists the public keys (DSA/ECDSA/RSA) that can be used for log-
<span class=ln> 9</span>  ging in as this user.  The format of this file is described in
<span class=ln>10</span>  the sshd(8) manual page.  This file is not highly sensitive, but
<span class=ln>11</span>  the recommended permissions are read/write for the user, and not
<span class=ln>12</span>  accessible by others.
<span class=ln>13</span>
<span class=ln>14</span>~/.ssh/identity
<span class=ln>15</span>~/.ssh/id_dsa
<span class=ln>16</span>~/.ssh/id_ecdsa
<span class=ln>17</span>~/.ssh/id_rsa
<span class=ln>18</span>  Contains the private key for authentication.  These files contain
<span class=ln>19</span>  sensitive data and should be readable by the user but not acces-
<span class=ln>20</span>  sible by others (read/write/execute).  ssh will simply ignore a
<span class=ln>21</span>  private key file if it is accessible by others.  It is possible
<span class=ln>22</span>  to specify a passphrase when generating the key which will be
<span class=ln>23</span>  used to encrypt the sensitive part of this file using 3DES.
<span class=ln>24</span>
<span class=ln>25</span>~/.ssh/identity.pub
<span class=ln>26</span>~/.ssh/id_dsa.pub
<span class=ln>27</span>~/.ssh/id_ecdsa.pub
<span class=ln>28</span>~/.ssh/id_rsa.pub
<span class=ln>29</span>  Contains the public key for authentication.  These files are not
<span class=ln>30</span>  sensitive and can (but need not) be readable by anyone.
<span class=ln>31</span>
<span class=ln>32</span>~/.ssh/known_hosts
<span class=ln>33</span>  Contains a list of host keys for all hosts the user has logged
<span class=ln>34</span>  into that are not already in the systemwide list of known host
<span class=ln>35</span>  keys.  See sshd(8) for further details of the format of this
<span class=ln>36</span>  file.
</code></pre></div><p>æ›´å¤šæ–‡ä»¶ï¼š</p><div class=highlight><pre class=chroma><code class=language-txt data-lang=txt><span class=ln> 1</span>~/.rhosts
<span class=ln> 2</span>  This file is used for host-based authentication (see above).  On
<span class=ln> 3</span>  some machines this file may need to be world-readable if the
<span class=ln> 4</span>  user&#39;s home directory is on an NFS partition, because sshd(8)
<span class=ln> 5</span>  reads it as root.  Additionally, this file must be owned by the
<span class=ln> 6</span>  user, and must not have write permissions for anyone else.  The
<span class=ln> 7</span>  recommended permission for most machines is read/write for the
<span class=ln> 8</span>  user, and not accessible by others.
<span class=ln> 9</span>
<span class=ln>10</span>~/.shosts
<span class=ln>11</span>  This file is used in exactly the same way as .rhosts, but allows
<span class=ln>12</span>  host-based authentication without permitting login with
<span class=ln>13</span>  rlogin/rsh.
<span class=ln>14</span>
<span class=ln>15</span>~/.ssh/
<span class=ln>16</span>  This directory is the default location for all user-specific con-
<span class=ln>17</span>  figuration and authentication information.  There is no general
<span class=ln>18</span>  requirement to keep the entire contents of this directory secret,
<span class=ln>19</span>  but the recommended permissions are read/write/execute for the
<span class=ln>20</span>  user, and not accessible by others.
<span class=ln>21</span>
<span class=ln>22</span>~/.ssh/environment
<span class=ln>23</span>  Contains additional definitions for environment variables; see
<span class=ln>24</span>  ENVIRONMENT, above.
<span class=ln>25</span>
<span class=ln>26</span>~/.ssh/rc
<span class=ln>27</span>  Commands in this file are executed by ssh when the user logs in,
<span class=ln>28</span>  just before the user&#39;s shell (or command) is started.  See the
<span class=ln>29</span>  sshd(8) manual page for more information.
<span class=ln>30</span>
<span class=ln>31</span>/etc/hosts.equiv
<span class=ln>32</span>  This file is for host-based authentication (see above).  It
<span class=ln>33</span>  should only be writable by root.
<span class=ln>34</span>
<span class=ln>35</span>/etc/shosts.equiv
<span class=ln>36</span>  This file is used in exactly the same way as hosts.equiv, but
<span class=ln>37</span>  allows host-based authentication without permitting login with
<span class=ln>38</span>  rlogin/rsh.
<span class=ln>39</span>
<span class=ln>40</span>/etc/ssh/ssh_config
<span class=ln>41</span>  Systemwide configuration file.  The file format and configuration
<span class=ln>42</span>  options are described in ssh_config(5).
<span class=ln>43</span>
<span class=ln>44</span>/etc/ssh/ssh_host_key
<span class=ln>45</span>/etc/ssh/ssh_host_dsa_key
<span class=ln>46</span>/etc/ssh/ssh_host_ecdsa_key
<span class=ln>47</span>/etc/ssh/ssh_host_rsa_key
<span class=ln>48</span>  These files contain the private parts of the host keys and are
<span class=ln>49</span>  used for host-based authentication.  If protocol version 1 is
<span class=ln>50</span>  used, ssh must be setuid root, since the host key is readable
<span class=ln>51</span>  only by root.  For protocol version 2, ssh uses ssh-keysign(8) to
<span class=ln>52</span>  access the host keys, eliminating the requirement that ssh be
<span class=ln>53</span>  setuid root when host-based authentication is used.  By default
<span class=ln>54</span>  ssh is not setuid root.
<span class=ln>55</span>
<span class=ln>56</span>/etc/ssh/ssh_known_hosts
<span class=ln>57</span>  Systemwide list of known host keys.  This file should be prepared
<span class=ln>58</span>  by the system administrator to contain the public host keys of
<span class=ln>59</span>  all machines in the organization.  It should be world-readable.
<span class=ln>60</span>  See sshd(8) for further details of the format of this file.
<span class=ln>61</span>
<span class=ln>62</span>/etc/ssh/sshrc
<span class=ln>63</span>  Commands in this file are executed by ssh when the user logs in,
<span class=ln>64</span>  just before the user&#39;s shell (or command) is started.  See the
<span class=ln>65</span>  sshd(8) manual page for more information.
</code></pre></div><p>èµ„æ–™å‚è€ƒï¼š</p><ol><li>[Linux] man ssh</li><li><a href=http://www.openfsg.com/index.php/Advanced_SSH_usage>Advanced SSH usage</a></li></ol></div><div class=post-nav><a href=https://icyleaf.com/2013/12/2013-in-review/ class=prev rel=prev title="2013 å¹´ç»ˆæ€»ç»“"><i class="iconfont icon-left"></i>&nbsp;2013 å¹´ç»ˆæ€»ç»“</a>
<a href=https://icyleaf.com/2014/01/intro-ruby-gem-guard/ class=next rel=next title="åˆè¯† Ruby Gem Guard">åˆè¯† Ruby Gem Guard&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2005 - 2021</span>
<span>ğŸº</span>
<span class=author itemprop=copyrightHolder><a href=https://icyleaf.com/>icyleaf</a></span></div></footer><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js crossorigin=anonymous></script><script defer src=https://icyleaf.com/js/vendor_main.min.js></script><script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script><script>pangu.spacingPage()</script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-2570916-5','auto'),ga('send','pageview')</script></div></body></html>