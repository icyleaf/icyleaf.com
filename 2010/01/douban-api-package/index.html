<!doctype html><html lang=zh-cn></html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Douban API Package 发布！ | icyleaf</title>
<meta name=keywords content="PHP,豆瓣"><meta name=description content="Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。
它对豆瓣 API 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。
为什么要另外封包？"><meta name=author content="icyleaf"><link rel=canonical href=https://icyleaf.com/2010/01/douban-api-package/><link rel=icon href=https://icyleaf.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://icyleaf.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://icyleaf.com/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=https://icyleaf.com/android-chrome-192x192.png><link rel=icon type=image/png sizes=512x512 href=https://icyleaf.com/android-chrome-512x512.png><link rel=apple-touch-icon href=https://icyleaf.com/apple-touch-icon.png><link rel=mask-icon href=https://icyleaf.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=stylesheet href=https://icyleaf.com/css/main.min.css><link rel=stylesheet href=https://icyleaf.com/font/iconfont.min.css><link rel=stylesheet href=https://icyleaf.com/font-ali/iconfont.min.css><link rel=stylesheet href=https://icyleaf.com/photoswipe/photoswipe.min.css><link rel=alternate hreflang=zh-cn href=https://icyleaf.com/2010/01/douban-api-package/><link rel=canonical href=https://icyleaf.com/2010/01/douban-api-package/><meta property="og:title" content="Douban API Package 发布！"><meta property="og:description" content="Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。
它对豆瓣 API 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。
为什么要另外封包？"><meta property="og:type" content="article"><meta property="og:url" content="https://icyleaf.com/2010/01/douban-api-package/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-01-08T12:34:56+08:00"><meta property="article:modified_time" content="2010-01-08T12:34:56+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Douban API Package 发布！"><meta name=twitter:description content="Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。
它对豆瓣 API 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。
为什么要另外封包？"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://icyleaf.com/posts/"},{"@type":"ListItem","position":2,"name":"Douban API Package 发布！","item":"https://icyleaf.com/2010/01/douban-api-package/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Douban API Package 发布！","name":"Douban API Package 发布！","description":"Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。\n它对豆瓣 API 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。\n为什么要另外封包？\n","keywords":["PHP","豆瓣"],"articleBody":"Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。\n它对豆瓣 API 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。\n为什么要另外封包？\n对，豆瓣官方提供了一种 PHP 的解决方案，可是需要庞大的支持库：GData（20M左右）以及可能无法修改的环境配置（租用的空间主机会遇到这样的问题）。虽说 Douban API Package 也是基于框架开发，不过 Kohana 是一个纯 PHP5 模式且体积小巧（仅有 478KB），优秀迅捷的框架。最重要的是，Douban API Package 提供了目前官方所有功能的支持。并有线上网站：魔豆 和豆瓣 API 控制台长期运营。\n虽然它是基于 Kohana 框架开发，但是并没有使用太多的依赖，稍微熟悉可以轻松分离出来！\n安装需求\nPHP 5.2+ with curl module Kohana v3 - 一款纯 PHP 5 框架，它的特点就是高安全性，轻量级代码，容易使用。 安装步骤\n步骤 0: 部署 Kohana v3\n下载并安装 Kohana v3 的过程，请大家参考此教程：使用 Git 部署 Kohana 系统\n步骤 1: 下载本扩展!\n你可以在部署完毕的 Kohana 系统的根目录执行下面操作：\n1$ git submodule add git://github.com/icyleaf/douban.git modules/douban 完成！\n或者你也可以从本github 项目 下载压缩包放置在 modules 文件夹下面。\n步骤 2: 在 bootstrap.php 文件中启用该模块(默认情况下，存储在 application 文件夹)\n1/** * Enable modules. Modules are referenced by a relative or absolute path. * 2/Kohana::modules(array( 3\t'douban' =\u003e MODPATH.'douban', // Douban API Module // 4\t'database' =\u003e MODPATH.'database', // Database access // 5\t'image' =\u003e MODPATH.'image', // Image manipulation // 6\t'orm' =\u003e MODPATH.'orm', // Object Relationship Mapping (not complete) // 7\t'pagination' =\u003e MODPATH.'pagination', // Paging of results // 8\t'paypal' =\u003e MODPATH.'paypal', // PayPal integration (not complete) // 9\t'todoist' =\u003e MODPATH.'todoist', // Todoist integration // 10\t'unittest' =\u003e MODPATH.'unittest', // Unit testing // 'codebench' =\u003e MODPATH. 11\t'codebench', // Benchmarking tool 12)); 目录结构\n1douban 2 +--- classes 3 +--- controller # 豆瓣样例 4 +--- douban # Douban API Package 5 +--- api # Douban API 6 +--- core.php # Douban Core 7 +--- oauth.php # Douban OAuth 8 +--- request.php # Douban Requset 9\t+--- response.php # Douban Response 10\t+--- douban.php # Douban API Class 11 +--- config 12 +--- douban.php # 豆瓣 API 配置文件 13 +--- user_agents.php # 奉送给大家一些手机 User agent 配置文件 14 +--- media 15 +--- images # 奉送给大家豆瓣 API 用到的图像 16 +--- vendor 17 +--- OAuth.php # OAuth 官方推荐 PHP 库 18 +--- LICENSE 19 +--- README.markdown 快速上手\nDouban API Package 提供一些演示用例，系统部署完毕后可以通过http://host/demo_douban 访问。\n文件路径：classes/controller/douban_demo.php\n源码库：http://github.com/icyleaf/douban\n祝你开发顺利！\n如果任何疑问或者 Bugs 反馈，即可以在本项目中提交 Issue 或者给我发邮件：icyleaf.cn囧gmail.com （请替换 “囧” 为 @）\n","wordCount":"899","inLanguage":"zh-cn","datePublished":"2010-01-08T12:34:56+08:00","dateModified":"2010-01-08T12:34:56+08:00","author":{"@type":"Person","name":"icyleaf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://icyleaf.com/2010/01/douban-api-package/"},"publisher":{"@type":"Organization","name":"icyleaf","logo":{"@type":"ImageObject","url":"https://icyleaf.com/favicon.ico"}}}</script></head><body><div class=wrapper><nav class=navbar><progress class=content_progress max=0 value=0></progress><div class=container><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><span class=menu><a class=menu-item href=https://icyleaf.com/series/homelab title>homelab 系列
</a><a class=menu-item href=https://icyleaf.com/projects title>开源项目
</a><a class=menu-item href=https://icyleaf.com/gears title>我的设备
</a><a class=menu-item href=https://icyleaf.com/about title>关于
</a><span class=divide></span>
<a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></span></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><progress class=content_progress max=0 value=0></progress><div class=container><div class=navbar><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div><div class=menu-toggle><span></span><span></span><span></span></div></div></div><div class=menu id=mobile-menu><nav class=mb-md><a class=menu-item href=https://icyleaf.com/series/homelab title><h3>homelab 系列</h3><div class=menu-active></div></a><a class=menu-item href=https://icyleaf.com/projects title><h3>开源项目</h3><div class=menu-active></div></a><a class=menu-item href=https://icyleaf.com/gears title><h3>我的设备</h3><div class=menu-active></div></a><a class=menu-item href=https://icyleaf.com/about title><h3>关于</h3><div class=menu-active></div></a></nav></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop=description>Douban API Package 发布！</h1><div class=post-meta><time datetime=2010-01-08 itemprop=datePublished>2010-01-08</time>
·
<span class=tags>PHP, 豆瓣</span>
·
<span class=post-word-count>899 words · 4 minutes</span></div></header><div class=post-content><div id=post-gallery><p>Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。</p><p>它对<a href=http://www.douban.com/>豆瓣</a> <a href=http://www.douban.com/service/apidoc/>API</a> 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。</p><p><strong>为什么要另外封包？</strong></p><p>对，豆瓣官方提供了一种 PHP 的解决方案，可是需要庞大的支持库：GData（20M左右）以及可能无法修改的环境配置（租用的空间主机会遇到这样的问题）。虽说 Douban API Package 也是基于框架开发，不过 Kohana 是一个纯 PHP5 模式且体积小巧（仅有 478KB），优秀迅捷的框架。<strong>最重要的是</strong>，Douban API Package 提供了目前官方所有功能的支持。并有线上网站：<a href=http://modou.us/>魔豆</a> 和<a href=http://modou.us/console>豆瓣 API 控制台</a>长期运营。</p><p><em>虽然它是基于 Kohana 框架开发，但是并没有使用太多的依赖，稍微熟悉可以轻松分离出来！</em></p><p><strong>安装需求</strong></p><ul><li>PHP 5.2+ with curl module</li><li><a href=http://github.com/kohana/kohana>Kohana v3</a> - 一款纯 PHP 5 框架，它的特点就是<strong>高安全性</strong>，<strong>轻量级代码</strong>，<strong>容易使用</strong>。</li></ul><p><strong>安装步骤</strong></p><p>步骤 0: 部署 Kohana v3</p><p>下载并安装 Kohana v3 的过程，请大家参考此教程：<a href=http://kohanaphp.cn/guide/tutorials.git>使用 Git 部署 Kohana 系统</a></p><p>步骤 1: 下载本扩展!</p><p>你可以在部署完毕的 Kohana 系统的根目录执行下面操作：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=ln>1</span><span class=cl>$ git submodule add git://github.com/icyleaf/douban.git modules/douban
</span></span></code></pre></div><p>完成！</p><p>或者你也可以从本<a href=http://github.com/icyleaf/douban>github 项目</a> 下载压缩包放置在 modules 文件夹下面。</p><p>步骤 2: 在 <code>bootstrap.php</code> 文件中启用该模块(默认情况下，存储在 <code>application</code> 文件夹)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=ln> 1</span><span class=cl>/** * Enable modules. Modules are referenced by a relative or absolute path. *
</span></span><span class=line><span class=ln> 2</span><span class=cl>/Kohana::modules(array(
</span></span><span class=line><span class=ln> 3</span><span class=cl>	&#39;douban&#39;        =&gt; MODPATH.&#39;douban&#39;,     // Douban API Module    //
</span></span><span class=line><span class=ln> 4</span><span class=cl>	&#39;database&#39;   =&gt; MODPATH.&#39;database&#39;,   // Database access    //
</span></span><span class=line><span class=ln> 5</span><span class=cl>	&#39;image&#39;      =&gt; MODPATH.&#39;image&#39;,      // Image manipulation    //
</span></span><span class=line><span class=ln> 6</span><span class=cl>	&#39;orm&#39;        =&gt; MODPATH.&#39;orm&#39;,        // Object Relationship Mapping (not complete)    //
</span></span><span class=line><span class=ln> 7</span><span class=cl>	&#39;pagination&#39; =&gt; MODPATH.&#39;pagination&#39;, // Paging of results    //
</span></span><span class=line><span class=ln> 8</span><span class=cl>	&#39;paypal&#39;     =&gt; MODPATH.&#39;paypal&#39;,     // PayPal integration (not complete)    //
</span></span><span class=line><span class=ln> 9</span><span class=cl>	&#39;todoist&#39;    =&gt; MODPATH.&#39;todoist&#39;,    // Todoist integration    //
</span></span><span class=line><span class=ln>10</span><span class=cl>	&#39;unittest&#39;   =&gt; MODPATH.&#39;unittest&#39;,   // Unit testing    // &#39;codebench&#39;  =&gt; MODPATH.
</span></span><span class=line><span class=ln>11</span><span class=cl>	&#39;codebench&#39;,  // Benchmarking tool
</span></span><span class=line><span class=ln>12</span><span class=cl>));
</span></span></code></pre></div><p><strong>目录结构</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=ln> 1</span><span class=cl>douban
</span></span><span class=line><span class=ln> 2</span><span class=cl>   +--- classes
</span></span><span class=line><span class=ln> 3</span><span class=cl>   			+--- controller               # 豆瓣样例
</span></span><span class=line><span class=ln> 4</span><span class=cl>   					+--- douban                   # Douban API Package
</span></span><span class=line><span class=ln> 5</span><span class=cl>   							+--- api               # Douban API
</span></span><span class=line><span class=ln> 6</span><span class=cl>   							+--- core.php          # Douban Core
</span></span><span class=line><span class=ln> 7</span><span class=cl>   							+--- oauth.php         # Douban OAuth
</span></span><span class=line><span class=ln> 8</span><span class=cl>   							+--- request.php       # Douban Requset
</span></span><span class=line><span class=ln> 9</span><span class=cl>						   	+--- response.php      # Douban Response
</span></span><span class=line><span class=ln>10</span><span class=cl>					+--- douban.php               # Douban API Class
</span></span><span class=line><span class=ln>11</span><span class=cl>   +--- config
</span></span><span class=line><span class=ln>12</span><span class=cl>   			+--- douban.php               # 豆瓣 API 配置文件
</span></span><span class=line><span class=ln>13</span><span class=cl>   			+--- user_agents.php          # 奉送给大家一些手机 User agent 配置文件
</span></span><span class=line><span class=ln>14</span><span class=cl>   +--- media
</span></span><span class=line><span class=ln>15</span><span class=cl>   			+--- images                   # 奉送给大家豆瓣 API 用到的图像
</span></span><span class=line><span class=ln>16</span><span class=cl>   +--- vendor
</span></span><span class=line><span class=ln>17</span><span class=cl>   			+--- OAuth.php                # OAuth 官方推荐 PHP 库
</span></span><span class=line><span class=ln>18</span><span class=cl>   			+--- LICENSE
</span></span><span class=line><span class=ln>19</span><span class=cl>   +--- README.markdown
</span></span></code></pre></div><p><strong>快速上手</strong></p><p>Douban API Package 提供一些演示用例，系统部署完毕后可以通过<code>http://host/demo_douban</code> 访问。</p><p>文件路径：<code>classes/controller/douban_demo.php</code></p><p>源码库：<a href=http://github.com/icyleaf/douban>http://github.com/icyleaf/douban</a></p><p>祝你开发顺利！</p><p>如果任何疑问或者 Bugs 反馈，即可以在本项目中提交 Issue
或者给我发邮件：icyleaf.cn囧gmail.com （请替换 &ldquo;囧&rdquo; 为 @）</p><div class=post-donate><p class=post-donate-title>如果你觉得我的文章对你有帮助，欢迎打赏，这对我非常重要，谢谢！</p><div class=post-donate-channel><img src=https://icyleaf.com/images/donate/alipay.png alt=支付宝打赏>
<img src=https://icyleaf.com/images/donate/wechat.png alt=微信打赏></div></div></div></div><div class=post-nav><a href=https://icyleaf.com/2010/01/2009-year-in-review/ class=prev rel=prev title=2009年度总结><i class="iconfont icon-left"></i>&nbsp;2009年度总结</a>
<a href=https://icyleaf.com/2010/04/how-to-get-xpath-of-an-element-for-php-and-javascript/ class=next rel=next title="如何获取 Element 的 XPath [PHP/Javascript]">如何获取 Element 的 XPath [PHP/Javascript]&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment><script>var getTheme=window.localStorage&&window.localStorage.getItem("blog-dark-mode"),getTheme=getTheme??"github-light";let theme=getTheme==="dark"?"github-dark":"github-light",s=document.createElement("script");s.src="https://utteranc.es/client.js",s.setAttribute("repo","icyleaf/icyleaf.com"),s.setAttribute("issue-term","pathname"),s.setAttribute("theme",theme),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.post-comment").innerHTML="",document.querySelector("div.post-comment").appendChild(s)</script></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2005 - 2024</span>
<span>🍺</span>
<span class=author itemprop=copyrightHolder><a href=https://icyleaf.com/>icyleaf</a></span></div></footer><script defer src=https://fastly.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js crossorigin=anonymous></script><script defer src=https://icyleaf.com/js/vendor_main.min.js></script><script type=module>
  
  import PhotoSwipeLightbox from '\/photoswipe\/photoswipe-lightbox.esm.js';

  const lightbox = new PhotoSwipeLightbox({
    gallery: '#post-gallery',
    children: 'a.gallery-item',
    pswpModule: () => import('\/photoswipe\/photoswipe.esm.js'),
  });
  lightbox.init();
</script></div></body></html>