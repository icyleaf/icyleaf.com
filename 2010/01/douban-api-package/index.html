<!doctype html><html lang=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta property=og:title content="Douban API Package 发布！ &middot;  icyleaf"><meta property=og:site_name content=icyleaf><meta property=og:url content=https://icyleaf.com/2010/01/douban-api-package/><meta property=og:type content=article><meta property=og:article:published_time content=2010-01-08T12:34:56&#43;08:00><meta property=og:article:tag content=PHP><meta property=og:article:tag content=豆瓣><title>Douban API Package 发布！ &middot; icyleaf</title><meta name=description content=热爱户外的码农、下厨初心者><meta name=HandheldFriendly content=True><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://icyleaf.com/images/favicon.ico><link rel=apple-touch-icon href=https://icyleaf.com/images/apple-touch-icon.png><link rel=stylesheet href=https://icyleaf.com/css/screen.css><link rel=stylesheet href=https://icyleaf.com/css/nav.css><link rel=stylesheet href=https://icyleaf.com/css/highlight/tomorrow-night.css><script src=https://icyleaf.com/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><link href=https://icyleaf.com/index.xml rel=alternate type=application/rss+xml title=icyleaf><meta name=generator content="Hugo 0.47.1"><link rel=canonical href=https://icyleaf.com/2010/01/douban-api-package/><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-2570916-5','auto');ga('send','pageview');</script></head><body class=nav-closed><div class=nav><h3 class=nav-title>Menu</h3><a href=# class=nav-close><span class=hidden>Close</span></a><ul><li class=nav-opened role=presentation><a href=https://icyleaf.com/>Home</a><li class=nav-opened role=presentation><a href=https://icyleaf.com/categories/technology>Technology</a><li class=nav-opened role=presentation><a href=https://icyleaf.com/tags>Tags</a><li class=nav-opened role=presentation><a href=https://icyleaf.com/about>About</a></ul><a class="subscribe-button icon-feed" href=https://icyleaf.com/2010/01/douban-api-package/>Subscribe</a></div><span class=nav-cover></span><div class=site-wrapper><header class="main-header post-head no-cover"><nav class="main-nav overlay clearfix"><a class=blog-logo href=https://icyleaf.com/><img src=https://icyleaf.com/images/icyleaf-icon.png alt="Blog Logo"></a>
<a class=menu-button href=#><span class=burger>&#9776;</span><span class=word>Menu</span></a></nav></header><main class=content role=main><article class="post post"><header class=post-header><h1 class=post-title>Douban API Package 发布！</h1><small></small><section class=post-meta><time class=post-date datetime=2010-01-08T12:34:56&#43;08:00>Jan 8, 2010</time>
<span class="post-tag small"><a href=https://icyleaf.com/tags/php/>#PHP</a></span>
<span class="post-tag small"><a href=https://icyleaf.com/tags/%E8%B1%86%E7%93%A3/>#豆瓣</a></span></section></header><section class=post-content><p>Douban API Package 是一个使用 PHP 开发且基于 Kohana v3 开发的一个扩展（Module）。<p>它对<a href=http://www.douban.com/>豆瓣</a> <a href=http://www.douban.com/service/apidoc/>API</a> 进行重新封包。它使用起来非常方便，可以快速开发一个 web 应用。<p><strong>为什么要另外封包？</strong><p>对，豆瓣官方提供了一种 PHP 的解决方案，可是需要庞大的支持库：GData（20M左右）以及可能无法修改的环境配置（租用的空间主机会遇到这样的问题）。虽说 Douban API Package 也是基于框架开发，不过 Kohana 是一个纯 PHP5 模式且体积小巧（仅有 478KB），优秀迅捷的框架。<strong>最重要的是</strong>，Douban API Package 提供了目前官方所有功能的支持。并有线上网站：<a href=http://modou.us/>魔豆</a> 和<a href=http://modou.us/console>豆瓣 API 控制台</a>长期运营。<p><em>虽然它是基于 Kohana 框架开发，但是并没有使用太多的依赖，稍微熟悉可以轻松分离出来！</em><p><strong>安装需求</strong><ul><li>PHP 5.2+ with curl module<li><a href=http://github.com/kohana/kohana>Kohana v3</a> - 一款纯 PHP 5 框架，它的特点就是<strong>高安全性</strong>，<strong>轻量级代码</strong>，<strong>容易使用</strong>。</ul><p><strong>安装步骤</strong><p>步骤 0: 部署 Kohana v3<p>下载并安装 Kohana v3 的过程，请大家参考此教程：<a href=http://kohanaphp.cn/guide/tutorials.git>使用 Git 部署 Kohana 系统</a><p>步骤 1: 下载本扩展!<p>你可以在部署完毕的 Kohana 系统的根目录执行下面操作：<pre><code>$ git submodule add git://github.com/icyleaf/douban.git modules/douban
</code></pre><p>完成！<p>或者你也可以从本<a href=http://github.com/icyleaf/douban>github 项目</a> 下载压缩包放置在 modules 文件夹下面。<p>步骤 2: 在 <code>bootstrap.php</code> 文件中启用该模块(默认情况下，存储在 <code>application</code> 文件夹)<pre><code>/** * Enable modules. Modules are referenced by a relative or absolute path. *
/Kohana::modules(array(     
	'douban'        =&gt; MODPATH.'douban',     // Douban API Module    //
	'database'   =&gt; MODPATH.'database',   // Database access    //
	'image'      =&gt; MODPATH.'image',      // Image manipulation    //
	'orm'        =&gt; MODPATH.'orm',        // Object Relationship Mapping (not complete)    //
	'pagination' =&gt; MODPATH.'pagination', // Paging of results    //
	'paypal'     =&gt; MODPATH.'paypal',     // PayPal integration (not complete)    //
	'todoist'    =&gt; MODPATH.'todoist',    // Todoist integration    //
	'unittest'   =&gt; MODPATH.'unittest',   // Unit testing    // 'codebench'  =&gt; MODPATH.
	'codebench',  // Benchmarking tool    
));
</code></pre><p><strong>目录结构</strong><pre><code>douban
   +--- classes         
   			+--- controller               # 豆瓣样例         
   					+--- douban                   # Douban API Package               
   							+--- api               # Douban API                
   							+--- core.php          # Douban Core            
   							+--- oauth.php         # Douban OAuth                
   							+--- request.php       # Douban Requset                 
						   	+--- response.php      # Douban Response         
					+--- douban.php               # Douban API Class  
   +--- config         
   			+--- douban.php               # 豆瓣 API 配置文件         
   			+--- user_agents.php          # 奉送给大家一些手机 User agent 配置文件  
   +--- media         
   			+--- images                   # 奉送给大家豆瓣 API 用到的图像        
   +--- vendor         
   			+--- OAuth.php                # OAuth 官方推荐 PHP 库  
   			+--- LICENSE  
   +--- README.markdown
</code></pre><p><strong>快速上手</strong><p>Douban API Package 提供一些演示用例，系统部署完毕后可以通过<code>http://host/demo_douban</code> 访问。<p>文件路径：<code>classes/controller/douban_demo.php</code><p>源码库：<a href=http://github.com/icyleaf/douban>http://github.com/icyleaf/douban</a><p>祝你开发顺利！<p>如果任何疑问或者 Bugs 反馈，即可以在本项目中提交 Issue
或者给我发邮件：icyleaf.cn囧gmail.com （请替换 &ldquo;囧&rdquo; 为 @）</section><footer class=post-footer><figure class=author-image><a class=img href=https://icyleaf.com/ style=background-image:url(/images/icyleaf-icon.png)><span class=hidden>icyleaf's Picture</span></a></figure><section class=author><h4><a href=https://icyleaf.com/>icyleaf</a></h4><p>热爱户外的码农、下厨初心者<div class=author-meta><span class="author-location icon-location">Beijing, China</span>
<span class="author-link icon-link"><a href=https://icyleaf.com>https://icyleaf.com</a></span></div></section><section class=share><h4>Share this post</h4><a class=icon-twitter href="https://twitter.com/share?text=Douban%20API%20Package%20%e5%8f%91%e5%b8%83%ef%bc%81&nbsp;-&nbsp;icyleaf&amp;url=https%3a%2f%2ficyleaf.com%2f2010%2f01%2fdouban-api-package%2f" onclick="window.open(this.href,'twitter-share','width=550,height=235');return false;"><span class=hidden>Twitter</span></a>
<a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ficyleaf.com%2f2010%2f01%2fdouban-api-package%2f" onclick="window.open(this.href,'facebook-share','width=580,height=296');return false;"><span class=hidden>Facebook</span></a>
<a class=icon-weibo href="http://service.weibo.com/share/share.php?url=https%3a%2f%2ficyleaf.com%2f2010%2f01%2fdouban-api-package%2f&amp;title=Douban%20API%20Package%20%e5%8f%91%e5%b8%83%ef%bc%81&nbsp;-&nbsp;icyleaf" onclick="window.open(this.href,'weibo-share','width=580,height=296');return false;"><span class=hidden>新浪微博</span></a>
<a class=icon-douban href="https://www.douban.com/recommend/?url=https%3a%2f%2ficyleaf.com%2f2010%2f01%2fdouban-api-package%2f&title=Douban%20API%20Package%20%e5%8f%91%e5%b8%83%ef%bc%81&v=1" onclick="window.open(this.href,'douban-share','width=580,height=300');return false;"><span class=hidden>豆瓣</span></a></section><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https:\/\/icyleaf.com\/2010\/01\/douban-api-package\/";this.page.identifier="https:\/\/icyleaf.com\/2010\/01\/douban-api-package\/";};(function(){var d=document,s=d.createElement('script');s.src='https://icyleaf.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></footer></article></main><aside class=read-next><a class=read-next-story style=no-cover href=https://icyleaf.com/2010/04/how-to-get-xpath-of-an-element-for-php-and-javascript/><section class=post><h2>如何获取 Element 的 XPath [PHP/Javascript]</h2></section></a><a class="read-next-story prev" style=no-cover href=https://icyleaf.com/2010/01/2009-year-in-review/><section class=post><h2>2009年度总结</h2></section></a></aside><footer class="site-footer clearfix"><section class=copyright><a href>icyleaf</a> All rights reserved - 2019</section><section class=poweredby>Proudly generated by <a class=icon-hugo href=http://gohugo.io>HUGO</a>, with <a class=icon-theme href=https://github.com/vjeantet/hugo-theme-casper>Casper</a> theme</section></footer></div><script src=https://icyleaf.com/js/jquery.js></script><script src=https://icyleaf.com/js/jquery.fitvids.js></script><script src=https://icyleaf.com/js/index.js></script></body></html>