<!doctype html><html lang=zh><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>升级 xcode 4.3.1 | icyleaf</title><link rel=prev href=https://icyleaf.com/2012/03/colors-is-ios-development-utility-tool/><link rel=next href=https://icyleaf.com/2012/03/pngcrush-usage-with-ios-apps/><link rel=canonical href=https://icyleaf.com/2012/03/upgrade-xcode-431/><link rel=apple-touch-icon sizes=180x180 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=icon type=image/png sizes=32x32 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=icon type=image/png sizes=16x16 href=https://icyleaf.com/images/icyleaf-icon.png><link rel=stylesheet href=https://icyleaf.com/css/main.min.css><link rel=stylesheet href=https://icyleaf.com/font/iconfont.css><link rel=stylesheet href=https://icyleaf.com/font-ali/iconfont.css><link rel=stylesheet href=https://icyleaf.com/photoswipe/photoswipe.css><meta name=title content="升级 xcode 4.3.1 | icyleaf"><meta name=author content="icyleaf"><meta name=description content="日常写代码热爱户外的梦想家"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/icyleaf.com\/"},"articleSection":"posts","name":"升级 xcode 4.3.1","headline":"升级 xcode 4.3.1","description":"下载 XCode 目前有两种途径： ​1. Mac App Store ​2. Apple Developer Download Page (需要有开发者账号并登陆） 对于前者好处在于免费下载但下载时间或许非常漫长；但后者如果条件都满","inLanguage":"zh","author":"icyleaf","creator":"icyleaf","publisher":"icyleaf","accountablePerson":"icyleaf","copyrightHolder":"icyleaf","copyrightYear":"2012","datePublished":"2012-03-09 12:34:56 \u002b0800 \u002b0800","dateModified":"2012-03-09 12:34:56 \u002b0800 \u002b0800","url":"https:\/\/icyleaf.com\/2012\/03\/upgrade-xcode-431\/","wordCount":"661","keywords":["XCode","icyleaf"]}</script></head><body><div class=wrapper><nav class=navbar><progress class=content_progress max=0 value=0></progress><div class=container><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><span class=menu><a class=menu-item href=https://icyleaf.com/about title>About</a>
<a class=menu-item href=https://icyleaf.com/index.xml title>Feed</a>
<span class=divide></span><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></span></div></div></nav><nav class=navbar-mobile id=nav-mobile style=display:none><progress class=content_progress max=0 value=0></progress><div class=container><div class=navbar><div class="navbar-header header-logo"><a href=https://icyleaf.com/>icyleaf</a></div><div class=navbar-right><div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div><div class=menu-toggle><span></span><span></span><span></span></div></div></div><div class=menu id=mobile-menu><nav class=mb-md><a class=menu-item href=https://icyleaf.com/about title><h3>About</h3><div class=menu-active></div></a><a class=menu-item href=https://icyleaf.com/index.xml title><h3>Feed</h3><div class=menu-active></div></a></nav></div></div></nav><main class=main><div class=container><article class=post-warp itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline">升级 xcode 4.3.1</h1><div class=post-meta><time datetime=2012-03-09 itemprop=datePublished>March 9, 2012</time>
·
<span class=tags>XCode</span>
·
<span class=post-word-count>661 words · 3 minutes</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title></h2><div class="post-toc-content always-active"><nav id=TableOfContents></nav></div></div><div class=post-content><div id=post-gallery><p>下载 XCode 目前有两种途径：</p><p>​1. <a href="http://itunes.apple.com/us/app/xcode/id497799835?mt=12">Mac App Store</a></p><p>​2. <a href=https://developer.apple.com/downloads/index.action>Apple Developer Download Page</a>
(需要有开发者账号并登陆）</p><p>对于前者好处在于免费下载但下载时间或许非常漫长；但后者如果条件都满足的话（apple developer id + <a href=http://t.cn/zOcn4KN>script</a> + vps + axel）那就可以非常快速的下载到页面上面的所有资源。</p><p>XCode 4.3 之后的版本采用核心和模块分离，现在主程序只有 1.8G 左右，其余的包括 Command line tools + dashcode + graphics tools（同样可以使用上面的脚本）需要单独按需下载。但这还不是变化最大的，最大的地方在于之前版本都是存放在 <code>/Developer</code> 路径下面，4.3 之后的版本统一改放在了 <code>/Applications</code>下面，下载 dmg 打开后直接把 Xcode 拖入 <code>/Applications</code> 即可。</p><p>安装完毕后首次启动，会有一个提示，这点需要非常注意，新版的会要求你把 <code>/Developer</code> 以及 <code>/Applications/Install Xcode</code> 一并移动至回收站，注意是整个目录完全移动。假如你的机器安装了其他的开发工具放置在了<code>/Developer</code> 了，这里就需要谨慎处理。</p><p>初次之外，我参考 <a href=http://useyourloaf.com/blog/2012/2/17/updating-to-xcode-43.html>Use Your Loaf</a>的博文，假如你的环境还需要依赖 Command line tools for xcode，除了下载和安装的过程，还需要在终端作下处理。比如上面提到博文所说的 <code>agvtools</code> 管理 App 版本自动化的工具。在升级 4.3+ 版本可能就会出现下面的错误</p><pre><code>$ agvtools
Error: No developer directory found at /Developer.
Run /usr/bin/xcode-select to update the developer directory path.
</code></pre><p>Use Your Loaf 博文提到需要使用 <code>xcode-select</code> 重新选择 Xcode 的安装路径，来保证终端工具可以正常运行，但是在 4.3.1 中我尝试还是失败。提示如下：</p><pre><code>$ sudo /usr/bin/xcode-select -switch /Applications/Xcode.app
$ agvtool
Error: Can't run /Applications/Xcode.app/usr/bin/agvtool (no such file).
</code></pre><p>经常检查发现，实际上 Command line tools 安装后存放在 <code>/Applications/Xcode.app/Contents/Developer/usr</code> 路径下面，尝试更正操作:</p><pre><code>$ sudo /usr/bin/xcode-select -switch /Applications/Xcode.app/Contents/Developer/

搞定！

---------华丽丽的分割线---------

**Instruments 哪里去了？**

哼哼，尝试在 Xcode 图标右键 &quot;Open Developer Tool&quot;，看到了吧，还有一些其他的工具 :)
</code></pre></div></div><div class=post-nav><a href=https://icyleaf.com/2012/03/colors-is-ios-development-utility-tool/ class=prev rel=prev title=Colors><i class="iconfont icon-left"></i>&nbsp;Colors</a>
<a href=https://icyleaf.com/2012/03/pngcrush-usage-with-ios-apps/ class=next rel=next title="pngcrush 的一些用法">pngcrush 的一些用法&nbsp;<i class="iconfont icon-right"></i></a></div><div class=post-comment></div></article></div></main><footer class=footer><div class=copyright>&copy;
<span itemprop=copyrightYear>2005 - 2022</span>
<span>🍺</span>
<span class=author itemprop=copyrightHolder><a href=https://icyleaf.com/>icyleaf</a></span></div></footer><script src=https://fastly.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js crossorigin=anonymous></script><script defer src=https://icyleaf.com/js/vendor_main.min.js></script><script src=https://fastly.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script><script>pangu.spacingPage()</script><script type=module>
  
  import PhotoSwipeLightbox from '\/photoswipe\/photoswipe-lightbox.esm.js';

  const lightbox = new PhotoSwipeLightbox({
    gallery: '#post-gallery',
    children: 'a.gallery-item',
    pswpModule: '\/photoswipe\/photoswipe.esm.js',
  });
  lightbox.init();
</script><script>window.ga_tid="UA-2570916-5",window.ga_api="https://cfga.icyleaf.com"</script><script src=https://fastly.jsdelivr.net/npm/cfga@1.0.3 async></script></div></body></html>